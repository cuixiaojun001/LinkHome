"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),n={_prefix:"https://webapi.amap.com/maps",_disableMapCache:!1,verbose:!1,timing:!1,version:"2.0",key:"",plugins:[]};function r(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var o=r(),i=!1,a=!1,s=o.promise;function u(){if(!a){if(a=!0,window.AMap)return o.resolve(window.AMap),s;var e=document.createElement("script"),t="amap_vue_"+Date.now()+"_"+Math.ceil(1e4*Math.random());window[t]=function(){i||(i=!0,o.resolve(window.AMap))};var r=function(e){var t=[];for(var n in e)void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}({v:n.version,key:n.key,callback:t,plugin:n.plugins.join(",")}),u=n._prefix+"?"+r;e.src=u,document.body.appendChild(e)}return s}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(e){return l(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return[4,u()];case 1:return t=n.sent(),[2,new Promise((function(n){t.plugin(e,(function(){n()}))}))]}}))}))}var v=t.default.extend({inject:["$amapMap"],computed:{$map:function(){return this.$amapMap.target}}});function y(e){throw new Error(e)}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=f(t),o=r[0],i=r.slice(1);if(!o)return e;var a=new Set(e);return o.forEach((function(t){a.has(t)||e.push(t)})),g.apply(void 0,h([e],i))}var b=Object.prototype.hasOwnProperty;function w(e){try{if(e.constructor&&!b.call(e,"constructor")&&!b.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||b.call(e,t)}function x(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.default.extend({mixins:e||[]})}function $(e,t,r){n.verbose&&"function"==typeof console[t]&&(e&&e.$options&&e.$options.name&&(r=h(["["+e.$options.name+"]"],r)),console[t].apply(console,h(r)))}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];$(this,"warn",e)}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];$(this,"debug",e)}function A(e){return{warn:M.bind(e),debug:C.bind(e)}}function k(e,t){return null!=t&&e instanceof t}function E(e,t,n,r,o){"object"==typeof t&&(n=t.depth,r=t.prototype,o=t.includeNonEnumerable,t=t.circular);var i=[],a=[];return void 0===t&&(t=!0),void 0===n&&(n=1/0),function e(n,s){if(null===n)return null;if(0===s)return n;var u,c;if("object"!=typeof n)return n;if(k(n,Map))u=new Map;else if(k(n,Set))u=new Set;else if(k(n,Promise))u=new Promise((function(t,r){n.then((function(n){t(e(n,s-1))}),(function(t){r(e(t,s-1))}))}));else if(E.__isArray(n))u=[];else if(E.__isRegExp(n))u=new RegExp(n.source,O(n)),n.lastIndex&&(u.lastIndex=n.lastIndex);else if(E.__isDate(n))u=new Date(n.getTime());else if(k(n,Error))u=Object.create(n);else if(void 0===r){if(k(c=Object.getPrototypeOf(n),Object))return n;u=Object.create(c)}else u=Object.create(r),c=r;if(t){var l=i.indexOf(n);if(-1!=l)return a[l];i.push(n),a.push(u)}for(var p in k(n,Map)&&n.forEach((function(t,n){var r=e(n,s-1),o=e(t,s-1);u.set(r,o)})),k(n,Set)&&n.forEach((function(t){var n=e(t,s-1);u.add(n)})),n){Object.getOwnPropertyDescriptor(n,p)&&(u[p]=e(n[p],s-1));try{if(void 0===Object.getOwnPropertyDescriptor(n,p).set)continue;u[p]=e(n[p],s-1)}catch(e){if(e instanceof TypeError)continue;if(e instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);for(p=0;p<d.length;p++){var f=d[p];(!(m=Object.getOwnPropertyDescriptor(n,f))||m.enumerable||o)&&(u[f]=e(n[f],s-1),Object.defineProperty(u,f,m))}}if(o){var h=Object.getOwnPropertyNames(n);for(p=0;p<h.length;p++){var m,v=h[p];(m=Object.getOwnPropertyDescriptor(n,v))&&m.enumerable||(u[v]=e(n[v],s-1),Object.defineProperty(u,v,m))}}return u}(e,n)}function S(e){return Object.prototype.toString.call(e)}function O(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}function B(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function L(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e.length===t.length&&e.every((function(e,n){return e===t[n]}))))}function j(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e[0]===t[0]&&e[1]===t[1]))}function P(e,t){if(!e&&t)return!1;if(e&&!t)return!1;if(!e&&!t)return!0;if(e===t)return!0;if(e.length!==t.length)return!1;var n=B(e);return!!L(n,B(t))&&(2===n.length?e.every((function(e,n){return j(e,t[n])})):3===n.length&&e.every((function(e,n){return P(e,t)})))}t.default.mixin({beforeCreate:function(){this.$options}}),t.default.config.optionMergeStrategies.amapMeta=function(e,t){return function e(t,n){var r=c({},t);for(var o in n){var i=n[o],a=t[o];Array.isArray(i)?r[o]=g(a||[],i):w(i)?r[o]=e(a||{},i):r[o]=i}return r}(e||{},t||{})},E.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},E.__objToStr=S,E.__isDate=function(e){return"object"==typeof e&&"[object Date]"===S(e)},E.__isArray=function(e){return"object"==typeof e&&"[object Array]"===S(e)},E.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===S(e)},E.__getRegExpFlags=O;function _(e,t,n){return void 0===n&&(n=1e-7),Math.abs(e-t)<n}function T(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||_(e[0],t[0])&&_(e[1],t[1])))}var D=new WeakMap;function z(e,t){var n=D.get(t);if(!n)for(var r in n=new Map,D.set(t,n),t){var o=t[r];!1!==o.initialize&&n.set(r,o)}return n.get(e)}function N(e,t,n,r){void 0===t&&(t=e.$options.props),void 0===n&&(n=e.$props);var o={};for(var i in n){var a=n[i];if(void 0!==a)if("extraOptions"!==i){var s=z(i,t);s&&(o[i]=s.transform?s.transform.call(e,a):a)}else Object.assign(o,a)}return r?o:E(o)}function I(e){return e?Array.isArray(e)?[e[0],e[1]]:[e.lng,e.lat]:[]}function R(e){return Array.isArray(e)?e:e.southWest?[[e.southWest.lng,e.southWest.lat],[e.northEast.lng,e.northEast.lat]]:[[e.southwest.lng,e.southwest.lat],[e.northeast.lng,e.northeast.lat]]}function q(e){if(!Array.isArray(e))return[];var t=B(e);return 1===t.length||2===t.length?e.map(I):3===t.length?e.map((function(e){return e.map(I)})):[]}function W(e){var t=new AMap.LngLat(e[0][0],e[0][1]),n=new AMap.LngLat(e[1][0],e[1][1]);return new AMap.Bounds(t,n)}function Z(e){return function(t,n){var r;t.setOptions(((r={})[e]=n,r))}}function F(e,t,n){var r=e.$amap.events||(e.$amap.events={});(r[t]||(r[t]=[])).push(n)}function U(e){var t=e.$options.amapMeta.events,n=void 0===t?[]:t,r=e.$amap.context.target;n.forEach((function(t){e.$watch("$listeners."+t,(function(n,o){o&&r.off(t,o),n&&(F(e,t,n),r.on(t,n))}),{immediate:!0})}))}function H(e){var t=e.$amap.context.target,n=e.$amap.events||{},r=function(e){n[e].forEach((function(n){t.off(e,n)}))};for(var o in n)r(o)}var K={equals:function(e,t){return e===t},clone:!1};function G(e,t,n,r){var o=n.setter;o&&("function"==typeof o?o.call(e,t,r):"string"==typeof o&&(n.clone&&(r=E(r)),t[o](r)))}function J(e,t,n){t||(t=e.$amap.context.target),n||(n=e.$options.props);var r=function(r){var o=n[r];if(!o.setter)return"continue";var i={deep:!!o.deep};e.$amap.logger.debug("watch",r,i),e.$watch("$props."+r,(function(n,r){if(!i.deep||i.deep&&n!==r)if("function"==typeof o.equals){if(o.equals(n,r))return}else if(n===r)return;G(e,t,o,n)}),i),o.events&&function(e,t,n,r){r||(r=e.$amap.context.target);var o=n.events;(void 0===o?[]:o).forEach((function(o){var i=n.getter;if(i){var a=function(o){var a="function"==typeof i?i.call(e,r,o):r[i](),s=e.$props[t];if("function"==typeof n.equals){if(n.equals(a,s))return}else if(a===s)return;e.$emit("update:"+t,a)};F(e,o,a),r.on(o,a)}}))}(e,r,o,t)};for(var o in n)r(o)}function V(e,t,n){if("string"==typeof e){var r=e,o=c(c({},K),{setter:r});return t&&(o.type=t),arguments.length>=3&&(o.default=n),o}return c(c({},K),e)}function Y(e){return function(t,n){var r;t.setStatus(((r={})[e]=n,r))}}var Q=t.default.extend({name:"Amap",amapMeta:{events:["click","dblclick","rightclick","mapmove","movestart","moveend","hotspotclick","hotspotover","hotspotout","mousemove","mousewheel","mouseover","mouseup","mousedown","zoomchange","zoomstart","zoomend","dragstart","dragging","dragend","resize","touchstart","touchmove","touchend"]},props:{cacheKey:V({type:String,initialize:!1}),center:V({type:Array,deep:!0,equals:j,setter:function(e,t){t&&(T(t,I(e.getCenter()))||e.setCenter([t[0],t[1]]))},getter:function(e){return I(e.getCenter())},events:["mapmove","moveend"]}),zoom:V({type:Number,equals:_,setter:function(e,t){void 0!==t&&(_(e.getZoom(),t)||e.setZoom(t))},getter:"getZoom",events:["zoomchange","zoomend"]}),rotation:V({type:Number,equals:_,setter:"setRotation",getter:"getRotation",events:["dragging","dragend","moveend","rotateend"]}),pitch:V({type:Number,equals:_,setter:"setPitch",getter:"getPitch",events:["dragging","dragend","moveend","pitchend"]}),viewMode:{type:String},features:V("setFeatures",Array),zooms:{type:Array},dragEnable:V({type:Boolean,default:void 0,setter:Y("dragEnable")}),zoomEnable:V({type:Boolean,default:void 0,setter:Y("zoomEnable")}),jogEnable:V({type:Boolean,default:void 0,setter:Y("jogEnable")}),pitchEnable:V({type:Boolean,default:void 0,setter:Y("pitchEnable")}),rotateEnable:V({type:Boolean,default:void 0,setter:Y("rotateEnable")}),animateEnable:V({type:Boolean,default:void 0,setter:Y("animateEnable")}),keyboardEnable:V({type:Boolean,default:void 0,setter:Y("keyboardEnable")}),doubleClickZoom:V({type:Boolean,default:void 0,setter:Y("doubleClickZoom")}),scrollWheel:V({type:Boolean,default:void 0,setter:Y("scrollWheel")}),touchZoom:{type:Boolean,default:void 0},touchZoomCenter:{type:Boolean,default:void 0},showLabel:{type:Boolean,default:void 0},defaultCursor:V("setDefaultCursor",String),isHotspot:V({type:Boolean,default:void 0,setter:Y("isHotspot")}),mapStyle:V("setMapStyle",String),wallColor:{type:String},roofColor:{type:String},skyColor:{type:String},showBuildingBlock:{type:Boolean,default:void 0},showIndoorMap:V({type:Boolean,default:void 0,setter:Y("showIndoorMap")}),mask:{type:Array},extraOptions:{type:Object,required:!1,default:void 0}},data:function(){return{ready:!1}},computed:{$context:function(){return this.$amap.context},$map:function(){return this.$context.target}},methods:{_clear:function(){var e=this.$map;e&&(H(this),e.clearMap(),e.clearInfoWindow())},_getContainer:function(e){var t=this.cacheKey;if(!n._disableMapCache&&t){var r="amap-vue-container-inner-"+t,o=document.getElementById(r)||this.$el.querySelector("#"+r);return o||((o=document.createElement("div")).className="amap-vue-container-inner",o.setAttribute("id",r),o.setAttribute("style","position:relative; width:100%; height:100%;")),e?(this.$el.insertAdjacentElement("afterbegin",o),o.style.display="block",o.style.pointerEvents="initial"):(o.style.display="none",o.style.pointerEvents="none"),o}return this.$el}},beforeCreate:function(){u();var e=r(),t={AMap:null,wrapper:null,ready:e.promise,target:null,vm:this,destroyed:!1};this.$amap={events:{},ready:e,context:t,logger:A(this)}},mounted:function(){return l(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c,d,f=this;return p(this,(function(h){switch(h.label){case 0:return e=this.$context,[4,u()];case 1:if(t=h.sent(),e.AMap=t,e.destroyed)return[2];if(n=N(this),r=this._getContainer(!0),o=!!r.$amap)for(i in n)a=this.$options.props[i],s=n[i],G(this,r.$amap,a,s);else r.$amap=new t.Map(r,n);return c=r.$amap,e.wrapper=r,e.target=c,J(this),U(this),d=function(){return l(f,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this.ready=!0,this.$amap.ready.resolve(c),[4,this.$nextTick()];case 1:return e.sent(),this.$emit("complete",c),[2]}}))}))},o?d():c.on("complete",d),[2]}}))}))},destroyed:function(){var e=this.$context;if(!n._disableMapCache&&this.cacheKey){var t=this._getContainer(!1);document.body.appendChild(t),this._clear()}else e.target&&e.target.destroy();e.destroyed=!0},provide:function(){return{$amapMap:this.$context}},render:function(e){var t=this.$slots.default;return this.ready||(t=void 0),e("div",{class:"amap-vue-container",style:"position:relative; width:100%; height:100%;"},t)}}),X=t.default.extend({computed:{$context:function(){return this.$amap.context},$container:function(){return this.$amapMap},$target:function(){return this.$context.target},$map:function(){return this.$amapMap.target},$meta:function(){return this.$options.amapMeta}}}),ee=x(X).extend({inject:["$amapMap"],amapMeta:{slot:!1,initComponent:y,add:function(e,t){t.setMap(e.target)},remove:function(e,t){t.setMap(null)}},props:{extraOptions:{type:Object,required:!1,default:void 0}},beforeCreate:function(){var e=r(),t={AMap:null,ready:e.promise,target:null,vm:this,destroyed:!1};this.$amap={events:{},ready:e,context:t,logger:A(this)}},mounted:function(){return l(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return p(this,(function(s){switch(s.label){case 0:return t=(e=this).$amap,n=e.$context,r=e.$container,o=this.$options.amapMeta,[4,r.ready];case 1:return s.sent(),n.AMap=r.AMap,o.prepare?[4,o.prepare()]:[3,3];case 2:s.sent(),s.label=3;case 3:return i=N(this),n.destroyed?[2]:[4,o.initComponent.call(this,n.AMap,i)];case 4:return a=s.sent(),n.target=a,o.add.call(this,r,a),J(this),U(this),t.ready.resolve(a),this.$emit("amap-ready",a),[2]}}))}))},beforeDestroy:function(){var e=this.$context,t=this.$container,n=this.$target;n&&(H(this),this.$options.amapMeta.remove.call(this,t,n));e.destroyed=!0},render:function(e){return this.$options.amapMeta.slot&&this.$slots.default?e("div",{class:"amap-vue-placeholder",style:"visibility: hidden; pointer-events: none;"},this.$slots.default):null}});function te(e,t,n,r){var o;"function"==typeof e[n]?e[n](r):"function"==typeof e.setOptions&&e.setOptions(((o={})[t]=r,o))}function ne(e,n,r){return void 0===n&&(n="show"),void 0===r&&(r="hide"),t.default.extend({props:{visible:V({type:Boolean,default:e,setter:function(e,t){t?e[n]():e[r]()}})}})}var re=t.default.extend({props:{zIndex:V({type:Number,setter:function(e,t){te(e,"zIndex","setzIndex",t)}})}}),oe=t.default.extend({props:{opacity:V("setOpacity",Number)}}),ie=t.default.extend({props:{zooms:V({type:Array,deep:!0,equals:j,setter:function(e,t){te(e,"zooms","setZooms",t)}})}}),ae=x(ee,ne(!0),re).extend({amapMeta:{events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]},props:{cursor:V({type:String,setter:function(e,t){"function"==typeof e.setCursor?e.setCursor(t):"function"==typeof e.setOptions&&e.setOptions({cursor:t})}}),bubble:V({type:Boolean,required:!1,default:void 0,setter:Z("bubble")}),clickable:V("setClickable",Boolean,void 0),draggable:V("setDraggable",Boolean,void 0),extData:V("setExtData",Object)},mounted:function(){return l(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,(e=this.$context).ready];case 1:return t.sent(),e.destroyed?[2]:(this.visible||e.target.hide(),[2])}}))}))}}),se=["top-left","top-center","top-right","middle-left","center","middle-right","bottom-left","bottom-center","bottom-right"],ue=["miter","round","bevel"],ce=["butt","round","square"],le=["solid","dashed"],pe=x(ae,ie).extend({props:{position:V({type:Array,deep:!0,equals:j,setter:function(e,t){t&&(T(t,I(e.getPosition()))||e.setPosition([t[0],t[1]]))},getter:function(e){return I(e.getPosition())},events:["dragging","dragend","moving","moveend"]}),title:V("setTitle",String),offset:V({type:Array,deep:!0,equals:j,setter:function(e,t){var n,r=e;t&&(T(t,(n=r.getOffset(),Array.isArray(n)?[n[0],n[1]]:[n.x,n.y]))||r.setOffset(new window.AMap.Pixel(t[0],t[1])))},transform:function(e){return new window.AMap.Pixel(e[0],e[1])}}),anchor:V({type:String,setter:"setAnchor",validator:function(e){return se.includes(e)}}),angle:V({type:Number,equals:_,setter:function(e,t){void 0!==t&&e.setAngle(t)},getter:function(e){return e.getAngle()},events:["moving"]}),topWhenClick:{type:Boolean,default:void 0}},beforeDestroy:function(){var e=this.$context.target;e&&"function"==typeof e.stopMove&&e.stopMove()}});function de(e){if(e){var t=c({},e);return t.offset&&(t.offset=new window.AMap.Pixel(t.offset[0],t.offset[1])),t}}function fe(e){return"string"==typeof e?e:new window.AMap.Icon(e)}var he=x(pe).extend({name:"AmapMarker",amapMeta:{slot:!0,initComponent:function(e,t){return l(this,void 0,void 0,(function(){var n;return p(this,(function(r){return n=c({},t),this.$slots.default&&this.$slots.default.length>0&&(n.content=this.$slots.default[0].elm),[2,new e.Marker(n)]}))}))}},props:{content:V("setContent",String),icon:V({setter:function(e,t){if(t){var n=fe(t);e.setIcon(n)}},transform:fe}),label:V({type:Object,setter:function(e,t){t&&e.setLabel(de(t))},deep:!0,transform:de})}}),me=x(ee,ne(!0),re,oe,ie).extend({name:"AmapLabelsLayer",amapMeta:{slot:!0,initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.LabelsLayer(t)]}))}))}},props:{visible:V({type:Boolean,default:!0,setter:function(e,t){var n=e;t?n.show():n.hide()}}),zIndex:V("setzIndex",Number),opacity:V("setOpacity",Number),collision:V({type:Boolean,default:void 0,setter:"setCollision"}),allowCollision:V({type:Boolean,default:void 0,setter:"setAllowCollision"})},provide:function(){return{$amapLabelsLayer:this.$context}},data:function(){return{ready:!1}},mounted:function(){var e=this;this.$context.ready.then((function(){return e.ready=!0}))},render:function(e){var t=this.$slots.default;return this.ready||(t=void 0),e("div",{class:"amap-vue-labels-layer",style:"visibility: hidden; pointer-events: none;"},t)}}),ve=x(ee,ne(!0),re,oe,ie).extend({name:"AmapLabelMarker",inject:["$amapLabelsLayer"],amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.LabelMarker(t)]}))}))},add:function(e,t){return l(this,void 0,void 0,(function(){var e;return p(this,(function(n){return(e=this.$layer)?(e.add(t),[2]):[2]}))}))},remove:function(e,t){return l(this,void 0,void 0,(function(){var e;return p(this,(function(n){return(e=this.$layer)?(e.remove(t),[2]):[2]}))}))},events:["mousedown","mouseup","touchstart","touchmove","touchend","click","mousemove","mouseover","mouseout"]},props:{name:V("setName",String),position:V({type:Array,deep:!0,equals:j,setter:function(e,t){t&&(T(t,I(e.getPosition()))||e.setPosition([t[0],t[1]]))}}),rank:V("setRank",Number),icon:V({type:Object,setter:"setIcon",deep:!0}),text:V({type:Object,setter:"setText",deep:!0})},computed:{$layerContext:function(){return this.$amapLabelsLayer},$layer:function(){var e=this.$layerContext;return e?e.target:null}},mounted:function(){if(!this.$layerContext)throw new Error("LabelMarker 需要与 LabelsLayer 配合使用")}}),ye=x(pe).extend({name:"AmapText",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return t.domStyle&&(t.style=t.domStyle,delete t.domStyle),[2,new e.Text(t)]}))}))}},props:{text:V({type:[String,Object],setter:"setText"}),domStyle:V({type:Object,setter:function(e,t){e.setStyle(t)},deep:!0})}}),ge=x(ae).extend({props:{strokeColor:V({type:String,setter:Z("strokeColor")}),strokeOpacity:V({type:Number,setter:Z("strokeOpacity")}),strokeWeight:V({type:Number,setter:Z("strokeWeight")}),strokeStyle:V({type:String,setter:Z("strokeStyle"),validator:function(e){return le.includes(e)}}),strokeDasharray:V({type:Array,deep:!0,equals:L,setter:Z("strokeDasharray")})}}),be=x(ge).extend({props:{fillColor:V({type:String,setter:Z("fillColor")}),fillOpacity:V({type:Number,setter:Z("fillOpacity")})}}),we=x(ge).extend({props:{lineJoin:V({type:String,setter:Z("lineJoin"),validator:function(e){return ue.includes(e)}}),lineCap:V({type:String,setter:Z("lineCap"),validator:function(e){return ce.includes(e)}}),showDir:V({type:Boolean,default:void 0,setter:Z("showDir")}),dirColor:V({type:String,setter:Z("dirColor")}),dirImg:V({type:Object,setter:Z("dirImg")}),isOutline:V({type:Boolean,default:void 0,setter:Z("isOutline")}),outlineColor:V({type:String,setter:Z("outlineColor")}),borderWeight:V({type:Number,setter:Z("borderWeight")}),geodesic:V({type:Boolean,default:void 0,setter:Z("geodesic")})}}),xe=x(be).extend({props:{center:V({type:Array,clone:!0,deep:!0,equals:j,setter:function(e,t){if(t){if(this.$props.draggable||this.$props.editable)if(T(t,I(e.getCenter())))return;e.setCenter([t[0],t[1]])}},getter:function(e){return I(e.getCenter())},events:["dragging","dragend"]}),radius:V({type:Number,setter:"setRadius"})}}),$e=x(X).extend({data:function(){return{$editor:null}},props:{editable:V({type:Boolean,default:!1,initialize:!1}),editorOpts:V({type:Object,default:function(){},initialize:!1})},computed:{$editable:function(){return this.$meta.editable}},mounted:function(){return l(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,this.$context.ready];case 1:return t.sent(),e=this.$options.amapMeta.editable,this.editable&&e.startEditing.call(this),[2]}}))}))},beforeDestroy:function(){var e=this,t=this.$editor,n=this.$context;t&&(this.$options.amapMeta.editable.events.forEach((function(n){t.off(n,e.$onAmapEdit)})),t.close(),n&&n.target&&n.target.setMap(null))},watch:{"$props.editable":function(e){var t=this.$editable,n=this.$context;e?n.destroyed||t.startEditing.call(this):t.endEditing.call(this)}}}),Me=x($e).extend({amapMeta:{editable:{events:[],loadEditor:y,initEditor:y,onEdit:y,initEditing:function(){return l(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,l=this;return p(this,(function(p){switch(p.label){case 0:return this.$editor?[2,this.$editor]:(e=this.$options.amapMeta.editable,n=(t=this).$container,r=t.$context,o=t.$editable,i=t.$map,a=t.editorOpts,[4,n.ready]);case 1:return p.sent(),[4,o.loadEditor()];case 2:return p.sent(),s=r.AMap,u=this,[4,e.initEditor.call(this,s,i,r.target,a)];case 3:return u.$editor=p.sent(),c=this.$onAmapEdit=e.onEdit.bind(this),e.events.forEach((function(e){l.$editor.on(e,c)})),[2,this.$editor]}}))}))},startEditing:function(){return l(this,void 0,void 0,(function(){var e,t;return p(this,(function(n){switch(n.label){case 0:return[4,this.$editable.initEditing.call(this)];case 1:return e=n.sent(),"function"==typeof(t=this.$context.target).setDraggable&&t.setDraggable(!1),e.open(),[2]}}))}))},endEditing:function(){if(this.$editor){this.$editor.close();var e=this.$context.target;"function"==typeof e.setDraggable&&"boolean"==typeof this.$props.draggable&&e.setDraggable(this.$props.draggable)}}}}}),Ce=x(xe,Me).extend({name:"AmapCircle",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.Circle(t)]}))}))},editable:{events:["end","move","adjust"],loadEditor:function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,m("AMap.CircleEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return l(this,void 0,void 0,(function(){return p(this,(function(o){return[2,new e.CircleEditor(t,n,r)]}))}))},onEdit:function(e){var t=e.target,n=t.getCenter();this.$emit("update:center",[n.lng,n.lat]),this.$emit("update:radius",t.getRadius())}}}}),Ae=x(xe).extend({name:"AmapCircleMarker",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.CircleMarker(t)]}))}))}}});function ke(e){return x(ge,Me).extend({amapMeta:{editable:{events:["end","move","adjust","addnode","removenode","add"],loadEditor:function(){return l(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,m("AMap."+e)];case 1:return t.sent(),[2]}}))}))},initEditor:function(t,n,r,o){return l(this,void 0,void 0,(function(){return p(this,(function(i){return[2,new t[e](n,r,o)]}))}))},onEdit:function(e){var t=e.target.getPath().map(I);this.$emit("update:path",t)}}},props:{path:V({type:Array,setter:function(e,t){if((this.$props.draggable||this.$props.editable)&&P(q(e.getPath()),t))return;e.setPath(t)},getter:function(e){return q(e.getPath())},clone:!0,equals:P,events:["dragging","dragend"]})}})}var Ee=x(be,ke("PolygonEditor")).extend({name:"AmapPolygon",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.Polygon(t)]}))}))}}}),Se=x(ke("PolylineEditor"),we).extend({name:"AmapPolyline",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.Polyline(t)]}))}))}}}),Oe="undefined"!=typeof BigInt64Array;function Be(e,t){var n,r,o,i,a,s;if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){var u=e.length;if(u!=t.length)return!1;for(var c=u;0!=c--;)if(!Be(e[c],t[c]))return!1;return!0}if(e instanceof Map){if(e.size!==t.size)return!1;try{for(var l=d(e.entries()),p=l.next();!p.done;p=l.next()){c=p.value;if(!t.has(c[0]))return!1}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var f=d(e.entries()),h=f.next();!h.done;h=f.next()){if(!Be((c=h.value)[1],t.get(c[0])))return!1}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}return!0}if(e instanceof Set){if(e.size!==t.size)return!1;try{for(var m=d(e.entries()),v=m.next();!v.done;v=m.next()){c=v.value;if(!t.has(c[0]))return!1}}catch(e){a={error:e}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}return!0}if(e.constructor.BYTES_PER_ELEMENT&&(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||Oe&&(e instanceof BigInt64Array||e instanceof BigUint64Array))){var y=e.length;if(y!=t.length)return!1;for(c=y;0!=c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var g=Object.keys(e),b=g.length;if(b!==Object.keys(t).length)return!1;for(c=b;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,g[c]))return!1;for(c=b;0!=c--;){var w=g[c];if(!Be(e[w],t[w]))return!1}return!0}return e!=e&&t!=t}function Le(e){return e||[]}var je=x(we,Me).extend({name:"AmapBezierCurve",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.BezierCurve(t)]}))}))},editable:{events:["end","adjust","addnode","removenode"],loadEditor:function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,m("AMap.BezierCurveEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return l(this,void 0,void 0,(function(){return p(this,(function(o){return[2,new e.BezierCurveEditor(t,n,r)]}))}))},onEdit:function(e){var t=e.target.getPath();this.$emit("update:path",Le(t))}}},props:{path:V({type:Array,setter:function(e,t){if((this.$props.editable||this.$props.editable)&&Be(Le(e.getPath()),t))return;e.setPath(t)},getter:function(e){return Le(e.getPath())},clone:!0,equals:Be,events:["dragging","dragend"]})}});function Pe(e,t){return!(!e||!t)&&(_(e[0][0],t[0][0])&&_(e[0][1],t[0][1])&&_(e[1][0],t[1][0])&&_(e[1][1],t[1][1]))}var _e=x(be,Me).extend({name:"AmapRectangle",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.Rectangle(t)]}))}))},editable:{events:["move","end","adjust"],loadEditor:function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,m("AMap.RectangleEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return l(this,void 0,void 0,(function(){return p(this,(function(o){return[2,new e.RectangleEditor(t,n,r)]}))}))},onEdit:function(e){var t=R(e.target.getBounds());this.$emit("update:bounds",t)}}},props:{bounds:V({type:Array,deep:!0,setter:function(e,t){if((this.$props.editable||this.$props.draggable)&&Pe(R(e.getBounds()),t))return;e.setBounds(W(t))},getter:function(e){return R(e.getBounds())},transform:W,clone:!0,equals:Pe,events:["dragging","dragend"]})}}),Te=x(be,Me).extend({name:"AmapEllipse",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.Ellipse(t)]}))}))},editable:{events:["move","end","adjust"],loadEditor:function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,m("AMap.EllipseEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return l(this,void 0,void 0,(function(){return p(this,(function(o){return[2,new e.EllipseEditor(t,n,r)]}))}))},onEdit:function(e){var t=I(e.target.getCenter());T(this.center,t)||this.$emit("update:center",t);var n=e.target.getRadius();T(this.radius,n)||this.$emit("update:radius",n.slice(0))}}},props:{center:V({type:Array,setter:function(e,t){if((this.$props.editable||this.$props.draggable)&&T(t,I(e.getCenter())))return;e.setCenter(t)},getter:function(e){return I(e.getCenter())},clone:!0,deep:!0,equals:T,events:["dragging","dragend"]}),radius:V({type:Array,setter:function(e,t){var n=e;if(this.$props.editable&&T(t,n.getRadius()))return;n.setRadius(t)},clone:!0,deep:!0,equals:T})}});function De(e,t,n){if(!e)return n;var r,o;if(Array.isArray(t)&&(r=t.slice(0)),"string"==typeof t&&(r=t.split(".")),"symbol"==typeof t&&(r=[t]),!Array.isArray(r))throw new Error("props arg must be an array, a string or a symbol");for(;r.length;){if(o=r.shift(),!e)return n;if(void 0===(e=e[o]))return n}return e}var ze=x(ae,ne(!0,"open","close")).extend({name:"AmapInfoWindow",amapMeta:{slot:!0,initComponent:function(e,t){return l(this,void 0,void 0,(function(){var n,r;return p(this,(function(o){return n=c({},t),r=De(this.$slots,"default.0.elm"),n.isCustom&&r&&(n.content=r),[2,new e.InfoWindow(n)]}))}))},events:["change","open","close"]},props:{isCustom:{type:Boolean,default:void 0},autoMove:{type:Boolean,default:void 0},avoid:V({type:Array}),closeWhenClickMap:{type:Boolean,default:void 0},content:V("setContent",String),size:V({type:Array,transform:function(e){return new window.AMap.Size(e[0],e[1])}}),anchor:V({type:String,setter:"setAnchor",validator:function(e){return se.includes(e)}}),offset:V({type:Array,transform:function(e){return new window.AMap.Pixel(e[0],e[1])}}),position:V({type:Array,deep:!0,setter:function(e,t){if(t){var n=e.getPosition();n&&T(t,I(n))||e.setPosition([t[0],t[1]])}},getter:function(e){return I(e.getPosition())},equals:j})},methods:{open:function(){var e=this;this.$context.ready.then((function(t){var n=e.position;t.open(e.$map,n)}))},close:function(){this.$context.ready.then((function(e){e.close()}))},onOpen:function(){this.visible||this.$emit("update:visible",!0)},onClose:function(){this.visible&&this.$emit("update:visible",!1)},_updateContent:function(){var e=this;this.visible&&this.$nextTick((function(){var t=De(e.$slots,"default.0.elm",e.content);e.$context.ready.then((function(e){e.setContent(t)}))}))}},mounted:function(){return l(this,void 0,void 0,(function(){var e,t;return p(this,(function(n){switch(n.label){case 0:return[4,this.$context.ready];case 1:return e=n.sent(),t=e,this.visible&&(this._updateContent(),this.open()),t.on("open",this.onOpen),t.on("close",this.onClose),[2]}}))}))},watch:{visible:"_updateContent",content:"_updateContent"}}),Ne=x(ee,ne(!0),re,oe,ie).extend({amapMeta:{events:["complete"]},props:{tileSize:{type:Number}},mounted:function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.$context.ready];case 1:return e.sent(),this.$context.destroyed?[2]:(this.visible||this.$target.hide(),[2])}}))}))}}),Ie=x(Ne).extend({name:"AmapTileLayer",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.TileLayer(t)]}))}))}},props:{tileUrl:V({type:String,setter:"setTileUrl"}),dataZooms:V({type:Array})}}),Re=x(Ne).extend({name:"AmapSatelliteLayer",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.TileLayer.Satellite(t)]}))}))}}}),qe=x(Ne).extend({name:"AmapFlexibleLayer",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.TileLayer.Flexible(t)]}))}))}},props:{createTile:{type:Function},cacheSize:{type:Number}}}),We=x(Ne).extend({name:"AmapRoadNetLayer",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.TileLayer.RoadNet(t)]}))}))}}}),Ze=x(Ne).extend({name:"AmapTrafficLayer",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.TileLayer.Traffic(t)]}))}))}},props:{autoRefresh:{type:Boolean,default:void 0},interval:{type:Number}}}),Fe=["LT","RT","LB","RB"],Ue=x(ee,ne(!0)).extend({amapMeta:{add:function(e,t){e.target.addControl(t)},remove:function(e,t){e.target.removeControl(t)},events:["show","hide"]}}),He=t.default.extend({props:{offset:V({type:Array})}}),Ke=t.default.extend({props:{position:V({type:[Object,String],validator:function(e){return"object"==typeof e||Fe.includes(e)}})}}),Ge=x(Ue).extend({name:"AmapMapType",amapMeta:{prepare:function(){return m("AMap.MapType")},initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.MapType(t)]}))}))}},props:{defaultType:{type:Number},showTraffic:{type:Boolean,default:void 0},showRoad:{type:Boolean,default:void 0}}}),Je=x(Ue,He,Ke).extend({name:"AmapControlBar",amapMeta:{prepare:function(){return m("AMap.ControlBar")},initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.ControlBar(t)]}))}))}},props:{showControlButton:{type:Boolean,default:void 0}}}),Ve=x(Ue,He,Ke).extend({name:"AmapHawkEye",amapMeta:{prepare:function(){return m("AMap.HawkEye")},initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.HawkEye(t)]}))}))}},props:{visible:V({type:Boolean,default:!0,setter:function(e,t){var n=e;t?n.show():n.hide()}}),isOpen:V({type:Boolean,default:void 0,setter:function(e,t){var n=e;t?n.open():n.hide()}}),autoMove:{type:Boolean,default:void 0},showRectangle:{type:Boolean,default:void 0},showButton:{type:Boolean,default:void 0},mapStyle:{type:String,default:void 0},layers:{type:Array,default:void 0},width:{type:String,default:void 0},height:{type:String,default:void 0},borderStyle:{type:String,default:void 0},borderColor:{type:String,default:void 0},borderRadius:{type:String,default:void 0},borderWidth:{type:String,default:void 0},buttonSize:{type:String,default:void 0}}}),Ye=x(Ue,He,Ke).extend({name:"AmapScale",amapMeta:{prepare:function(){return m("AMap.Scale")},initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.Scale(t)]}))}))}}}),Qe=x(Ue,He,Ke).extend({name:"AmapToolBar",amapMeta:{prepare:function(){return m("AMap.ToolBar")},initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.ToolBar(t)]}))}))}}});var Xe=new Map,et=new Map;function tt(e){var t=et.get(e);if(t){var n=t.ops,r=t.milliseconds,o=n/r*1e3;console.log(e+": "+n+"ops, "+r.toFixed(2)+"ms, "+o.toFixed(2)+"ops/s")}}function nt(e){n.timing&&performance&&performance.now&&Xe.set(e,performance.now())}function rt(e,t){if(void 0===t&&(t=1),n.timing&&performance&&performance.now){var r=performance.now(),o=Xe.get(e);if(Xe.delete(e),o){var i=r-o,a=et.get(e)||{ops:0,milliseconds:0};a.ops+=t||1,a.milliseconds+=i,et.set(e,a)}}}"undefined"!=typeof window&&(window.__amap_perf__={start:nt,stop:rt,print:function(e){var t,n;if(console.log("[perf timer statistics]"),e)tt(e);else try{for(var r=d(et.keys()),o=r.next();!o.done;o=r.next()){tt(o.value)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}});var ot=he.sealedOptions,it=t.default.extend({props:ot.props}),at=void 0;function st(e,t,n){var r=e[t];Array.isArray(r)&&(e[t]=new n(r[0],r[1]))}function ut(e){return e&&0!==e.length?e.map((function(e){var t=c({},e);return st(t,"size",AMap.Size),st(t,"offset",AMap.Pixel),st(t,"imageOffset",AMap.Pixel),t})):e}var ct=x(ee).extend({name:"AmapMarkerCluster",amapMeta:{prepare:function(){return m("AMap.MarkerCluster")},initComponent:function(e,t){return l(this,void 0,void 0,(function(){var n;return p(this,(function(r){return n=this,this.$scopedSlots.cluster&&(t.renderClusterMarker=n._renderCluster),this.$scopedSlots.marker&&(t.renderMarker=n._renderMarker),[2,new e.MarkerCluster(n.$map,n.data||[],t)]}))}))},events:["click"]},props:{data:V({type:Array,required:!0,initialize:!1}),gridSize:V("setGridSize",Number),maxZoom:V("setMaxZoom",Number),averageCenter:V({type:Boolean,default:void 0,setter:"setAverageCenter"}),clusterByZoomChange:{type:Boolean,default:void 0},styles:V({type:Array,setter:function(e,t){e.setStyles(ut(t))},transform:ut}),markerOptions:V({type:Function,initialize:!1}),clusterOptions:V({type:Function,initialize:!1})},data:function(){return{$mcc:null}},mounted:function(){var e=this,n=function(e,t,n){var r,o,i,a,s;function u(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var c=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];i=this,o=c,a=Date.now();var p=n&&!r;return r||(r=setTimeout(u,t)),p&&(s=e.apply(i,o),i=o=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}(this._onDataChange,100),r=this.$scopedSlots.marker,o=this.$scopedSlots.cluster;this.$context.ready.then((function(){e._onDataChange()}));var i=t.default.extend({props:{point:{type:Object}},render:function(){return r?De(r(this.point),"0",null):null}}),a=t.default.extend({props:{context:{type:Object}},render:function(){return o?De(o(this.context),"0",null):null}});this.$mcc={marker:new i,cluster:new a,dummy:new it},this.$watch("data",{handler:n})},beforeDestroy:function(){this.$mcc.marker.$destroy(),this.$mcc.cluster.$destroy(),this.$mcc.dummy.$destroy()},methods:{_onDataChange:function(){return l(this,void 0,void 0,(function(){var e,t,n;return p(this,(function(r){switch(r.label){case 0:return t=(e=this).data,[4,(n=e.$context).ready];case 1:return r.sent(),n.destroyed?[2]:(this.$target.setData(t),[2])}}))}))},_renderMarkerContent:function(e,t,n){nt("MarkerCluster#_renderMarkerContent");var r=function(e,t){at||(at=document.createElement("div"));var n=e;return n._props=t,n._vnode=null,n.$mount(at),n._vnode.elm}(t,n);e.marker.setContent(r),rt("MarkerCluster#_renderMarkerContent")},_setMarkerOptions:function(e,t,n){var r={};"function"==typeof t&&Object.assign(r,t(n));for(var o=Object.keys(r),i=this.$mcc.dummy,a=0;a<o.length;++a){var s=o[a],u=r[s],c=ot.props[s];void 0!==c&&G(i,e.marker,c,u)}},_renderMarker:function(e){nt("MarkerCluster#_renderMarker");var t=e.data[0],n={point:t};this._renderMarkerContent(e,this.$mcc.marker,n),this._setMarkerOptions(e,this.markerOptions,t),rt("MarkerCluster#_renderMarker")},_renderCluster:function(e){nt("MarkerCluster#_renderCluster");var t={context:e};this._renderMarkerContent(e,this.$mcc.cluster,t),this._setMarkerOptions(e,this.clusterOptions,e),rt("MarkerCluster#_renderCluster")}},render:function(){return null}}),lt=x(ee).extend({amapMeta:{prepare:function(){return m("AMap.MouseTool")},initComponent:function(e){return l(this,void 0,void 0,(function(){return p(this,(function(t){return[2,new e.MouseTool(this.$map)]}))}))},add:function(){},remove:function(){}},props:{mode:V({type:String,default:"none"}),clearWhenClose:{type:Boolean,default:!0},options:{type:Object}},data:function(){return{drawingMode:void 0}},computed:{$mousetool:function(){return this.$target}},methods:{close:function(e){this.$mousetool.close(e)},draw:function(){var e=this.$mousetool,t=this.mode,n=this.drawingMode,r=this.options,o=void 0===r?{}:r;if(t!==n){switch(t){case"none":this.close(this.clearWhenClose);break;case"marker":e.marker(o);break;case"polyline":e.polyline(o);break;case"polygon":e.polygon(o);break;case"rectangle":e.rectangle(o);break;case"circle":e.circle(o);break;case"rule":e.rule(o);break;case"measureArea":e.measureArea(o);break;case"rectZoomIn":e.rectZoomIn(o);break;case"rectZoomOut":e.rectZoomOut(o)}this.drawingMode=t}},_onDraw:function(e){if(this.mode!==this.drawingMode)return this.close(!0),void this.draw();var t=e.obj,n=this.drawingMode,r=t;switch(n){case"marker":r=I(t.getPosition());break;case"polyline":case"polygon":r=q(t.getPath());break;case"rectangle":r=R(t.getBounds());break;case"circle":r={center:I(t.getCenter()),radius:t.getRadius()};break;case"rule":r={path:q(t.getPath()),length:t.getLength()};break;case"measureArea":r={path:q(t.getPath()),area:t.getArea()}}this.$emit("draw",n,r),this.$emit("update:mode","none")}},mounted:function(){return l(this,void 0,void 0,(function(){var e,t=this;return p(this,(function(n){switch(n.label){case 0:return[4,(e=this.$context).ready];case 1:return n.sent(),e.destroyed?[2]:(this.$mousetool.on("draw",this._onDraw),this.$watch("mode",(function(e){"none"!==e&&"none"!==t.drawingMode&&t.close(!0),t.draw()}),{immediate:!0}),[2])}}))}))}}),pt=x(ee,ne(!0),re,oe,ie).extend({amapMeta:{events:["complete"]},mounted:function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.$context.ready];case 1:return e.sent(),this.$context.destroyed?[2]:(this.visible||this.$target.hide(),[2])}}))}))}}),dt=x(pt).extend({name:"AmapImageLayer",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.ImageLayer(t)]}))}))}},props:{bounds:V({type:Array,transform:W,deep:!0,setter:function(e,t){e.setBounds(W(t))}}),url:V("setImageUrl",String)}}),ft=x(pt).extend({name:"AmapCanvasLayer",amapMeta:{slot:!0,initComponent:function(e,t){return l(this,void 0,void 0,(function(){var n;return p(this,(function(r){if(!(n=De(this,"$slots.default.0.elm"))||"CANVAS"!==n.tagName)throw this.$amap.logger.warn("slot内容必须是canvas"),new Error;return t.canvas=n,[2,new e.CanvasLayer(t)]}))}))}},props:{bounds:V({type:Array,transform:W})}}),ht=x(pt).extend({name:"AmapCustomLayer",amapMeta:{slot:!0,initComponent:function(e,t){return l(this,void 0,void 0,(function(){var n;return p(this,(function(r){if(!(n=De(this,"$slots.default.0.elm"))||"CANVAS"!==n.tagName)throw this.$amap.logger.warn("slot内容必须是canvas"),new Error;return[2,new e.CustomLayer(n,t)]}))}))}},props:{render:V({type:Function,required:!0})}}),mt=x(ee,ne(!0),re,oe,ie).extend({amapMeta:{prepare:function(){return m("AMap.DistrictLayer")},events:["complete"]},props:{styles:V({type:Object,setter:"setStyles"})}}),vt=t.default.extend({props:{depth:{type:Number}}}),yt=x(mt).extend({name:"AmapDistrictLayerWorld",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.DistrictLayer.World(t)]}))}))}}}),gt=x(mt,vt).extend({name:"AmapDistrictLayerCountry",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return"soc"in t&&(t.SOC=t.soc,delete t.soc),[2,new e.DistrictLayer.Country(t)]}))}))}},props:{soc:V("setSOC",String)}}),bt=x(mt,vt).extend({name:"AmapDistrictLayerProvince",amapMeta:{initComponent:function(e,t){return l(this,void 0,void 0,(function(){return p(this,(function(n){return[2,new e.DistrictLayer.Province(t)]}))}))}},props:{adcode:V({type:[Array,String,Number],deep:!0,equals:L,setter:"setDistricts"})}}),wt={install:function(e){e.component("amap",Q),e.component("amap-marker",he),e.component("amap-labels-layer",me),e.component("amap-label-marker",ve),e.component("amap-text",ye),e.component("amap-circle",Ce),e.component("amap-circle-marker",Ae),e.component("amap-polygon",Ee),e.component("amap-polyline",Se),e.component("amap-bezier-curve",je),e.component("amap-rectangle",_e),e.component("amap-ellipse",Te),e.component("amap-info-window",ze),e.component("amap-tile-layer",Ie),e.component("amap-satellite-layer",Re),e.component("amap-road-net-layer",We),e.component("amap-traffic-layer",Ze),e.component("amap-flexible-layer",qe),e.component("amap-map-type",Ge),e.component("amap-control-bar",Je),e.component("amap-hawk-eye",Ve),e.component("amap-scale",Ye),e.component("amap-tool-bar",Qe),e.component("amap-marker-cluster",ct),e.component("amap-mouse-tool",lt),e.component("amap-image-layer",dt),e.component("amap-canvas-layer",ft),e.component("amap-custom-layer",ht),e.component("amap-district-layer-world",yt),e.component("amap-district-layer-country",gt),e.component("amap-district-layer-province",bt)},config:n,loadAmap:u,loadPlugins:m,withAmap:v,Amap:Q,Marker:he,LabelsLayer:me,LabelMarker:ve,Text:ye,Circle:Ce,CircleMarker:Ae,Polygon:Ee,Polyline:Se,BezierCurve:je,Rectangle:_e,Ellipse:Te,InfoWindow:ze,TileLayer:Ie,SatelliteLayer:Re,FlexibleLayer:qe,RoadNetLayer:We,TrafficLayer:Ze,MapType:Ge,ControlBar:Je,HawkEye:Ve,Scale:Ye,ToolBar:Qe,MarkerCluster:ct,MouseTool:lt,ImageLayer:dt,CanvasLayer:ft,CustomLayer:ht,DistrictLayerWorld:yt,DistrictLayerCountry:gt,DistrictLayerProvince:bt};exports.Amap=Q,exports.BezierCurve=je,exports.CanvasLayer=ft,exports.Circle=Ce,exports.CircleMarker=Ae,exports.ControlBar=Je,exports.CustomLayer=ht,exports.DistrictLayerCountry=gt,exports.DistrictLayerProvince=bt,exports.DistrictLayerWorld=yt,exports.Ellipse=Te,exports.FlexibleLayer=qe,exports.HawkEye=Ve,exports.ImageLayer=dt,exports.InfoWindow=ze,exports.LabelMarker=ve,exports.LabelsLayer=me,exports.MapType=Ge,exports.Marker=he,exports.MarkerCluster=ct,exports.MouseTool=lt,exports.Polygon=Ee,exports.Polyline=Se,exports.Rectangle=_e,exports.RoadNetLayer=We,exports.SatelliteLayer=Re,exports.Scale=Ye,exports.Text=ye,exports.TileLayer=Ie,exports.ToolBar=Qe,exports.TrafficLayer=Ze,exports.config=n,exports.default=wt,exports.loadAmap=u,exports.loadPlugins=m,exports.withAmap=v;
