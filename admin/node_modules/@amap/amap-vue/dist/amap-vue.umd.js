!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AmapVue={},e.Vue)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t),o={_prefix:"https://webapi.amap.com/maps",_disableMapCache:!1,verbose:!1,timing:!1,version:"2.0",key:"",plugins:[]};function i(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var a=i(),s=!1,u=!1,c=a.promise;function l(){if(!u){if(u=!0,window.AMap)return a.resolve(window.AMap),c;var e=document.createElement("script"),t="amap_vue_"+Date.now()+"_"+Math.ceil(1e4*Math.random());window[t]=function(){s||(s=!0,a.resolve(window.AMap))};var n=function(e){var t=[];for(var n in e)void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}({v:o.version,key:o.key,callback:t,plugin:o.plugins.join(",")}),r=o._prefix+"?"+n;e.src=r,document.body.appendChild(e)}return c}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(e){return d(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,l()];case 1:return t=n.sent(),[2,new Promise((function(n){t.plugin(e,(function(){n()}))}))]}}))}))}var g=r.default.extend({inject:["$amapMap"],computed:{$map:function(){return this.$amapMap.target}}});function b(e){throw new Error(e)}function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=m(t),o=r[0],i=r.slice(1);if(!o)return e;var a=new Set(e);return o.forEach((function(t){a.has(t)||e.push(t)})),w.apply(void 0,v([e],i))}var $=Object.prototype.hasOwnProperty;function M(e){try{if(e.constructor&&!$.call(e,"constructor")&&!$.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||$.call(e,t)}function x(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.default.extend({mixins:e||[]})}function C(e,t,n){o.verbose&&"function"==typeof console[t]&&(e&&e.$options&&e.$options.name&&(n=v(["["+e.$options.name+"]"],n)),console[t].apply(console,v(n)))}function A(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];C(this,"warn",e)}function k(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];C(this,"debug",e)}function E(e){return{warn:A.bind(e),debug:k.bind(e)}}function S(e,t){return null!=t&&e instanceof t}function O(e,t,n,r,o){"object"==typeof t&&(n=t.depth,r=t.prototype,o=t.includeNonEnumerable,t=t.circular);var i=[],a=[];return void 0===t&&(t=!0),void 0===n&&(n=1/0),function e(n,s){if(null===n)return null;if(0===s)return n;var u,c;if("object"!=typeof n)return n;if(S(n,Map))u=new Map;else if(S(n,Set))u=new Set;else if(S(n,Promise))u=new Promise((function(t,r){n.then((function(n){t(e(n,s-1))}),(function(t){r(e(t,s-1))}))}));else if(O.__isArray(n))u=[];else if(O.__isRegExp(n))u=new RegExp(n.source,L(n)),n.lastIndex&&(u.lastIndex=n.lastIndex);else if(O.__isDate(n))u=new Date(n.getTime());else if(S(n,Error))u=Object.create(n);else if(void 0===r){if(S(c=Object.getPrototypeOf(n),Object))return n;u=Object.create(c)}else u=Object.create(r),c=r;if(t){var l=i.indexOf(n);if(-1!=l)return a[l];i.push(n),a.push(u)}for(var p in S(n,Map)&&n.forEach((function(t,n){var r=e(n,s-1),o=e(t,s-1);u.set(r,o)})),S(n,Set)&&n.forEach((function(t){var n=e(t,s-1);u.add(n)})),n){Object.getOwnPropertyDescriptor(n,p)&&(u[p]=e(n[p],s-1));try{if(void 0===Object.getOwnPropertyDescriptor(n,p).set)continue;u[p]=e(n[p],s-1)}catch(e){if(e instanceof TypeError)continue;if(e instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);for(p=0;p<d.length;p++){var f=d[p];(!(m=Object.getOwnPropertyDescriptor(n,f))||m.enumerable||o)&&(u[f]=e(n[f],s-1),Object.defineProperty(u,f,m))}}if(o){var h=Object.getOwnPropertyNames(n);for(p=0;p<h.length;p++){var m,v=h[p];(m=Object.getOwnPropertyDescriptor(n,v))&&m.enumerable||(u[v]=e(n[v],s-1),Object.defineProperty(u,v,m))}}return u}(e,n)}function B(e){return Object.prototype.toString.call(e)}function L(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}function j(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function P(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e.length===t.length&&e.every((function(e,n){return e===t[n]}))))}function _(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e[0]===t[0]&&e[1]===t[1]))}function T(e,t){if(!e&&t)return!1;if(e&&!t)return!1;if(!e&&!t)return!0;if(e===t)return!0;if(e.length!==t.length)return!1;var n=j(e);return!!P(n,j(t))&&(2===n.length?e.every((function(e,n){return _(e,t[n])})):3===n.length&&e.every((function(e,n){return T(e,t)})))}r.default.mixin({beforeCreate:function(){this.$options}}),r.default.config.optionMergeStrategies.amapMeta=function(e,t){return function e(t,n){var r=p({},t);for(var o in n){var i=n[o],a=t[o];Array.isArray(i)?r[o]=w(a||[],i):M(i)?r[o]=e(a||{},i):r[o]=i}return r}(e||{},t||{})},O.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},O.__objToStr=B,O.__isDate=function(e){return"object"==typeof e&&"[object Date]"===B(e)},O.__isArray=function(e){return"object"==typeof e&&"[object Array]"===B(e)},O.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===B(e)},O.__getRegExpFlags=L;function D(e,t,n){return void 0===n&&(n=1e-7),Math.abs(e-t)<n}function z(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||D(e[0],t[0])&&D(e[1],t[1])))}var N=new WeakMap;function I(e,t){var n=N.get(t);if(!n)for(var r in n=new Map,N.set(t,n),t){var o=t[r];!1!==o.initialize&&n.set(r,o)}return n.get(e)}function R(e,t,n,r){void 0===t&&(t=e.$options.props),void 0===n&&(n=e.$props);var o={};for(var i in n){var a=n[i];if(void 0!==a)if("extraOptions"!==i){var s=I(i,t);s&&(o[i]=s.transform?s.transform.call(e,a):a)}else Object.assign(o,a)}return r?o:O(o)}function q(e){return e?Array.isArray(e)?[e[0],e[1]]:[e.lng,e.lat]:[]}function W(e){return Array.isArray(e)?e:e.southWest?[[e.southWest.lng,e.southWest.lat],[e.northEast.lng,e.northEast.lat]]:[[e.southwest.lng,e.southwest.lat],[e.northeast.lng,e.northeast.lat]]}function Z(e){if(!Array.isArray(e))return[];var t=j(e);return 1===t.length||2===t.length?e.map(q):3===t.length?e.map((function(e){return e.map(q)})):[]}function F(e){var t=new AMap.LngLat(e[0][0],e[0][1]),n=new AMap.LngLat(e[1][0],e[1][1]);return new AMap.Bounds(t,n)}function U(e){return function(t,n){var r;t.setOptions(((r={})[e]=n,r))}}function H(e,t,n){var r=e.$amap.events||(e.$amap.events={});(r[t]||(r[t]=[])).push(n)}function V(e){var t=e.$options.amapMeta.events,n=void 0===t?[]:t,r=e.$amap.context.target;n.forEach((function(t){e.$watch("$listeners."+t,(function(n,o){o&&r.off(t,o),n&&(H(e,t,n),r.on(t,n))}),{immediate:!0})}))}function K(e){var t=e.$amap.context.target,n=e.$amap.events||{},r=function(e){n[e].forEach((function(n){t.off(e,n)}))};for(var o in n)r(o)}var G={equals:function(e,t){return e===t},clone:!1};function J(e,t,n,r){var o=n.setter;o&&("function"==typeof o?o.call(e,t,r):"string"==typeof o&&(n.clone&&(r=O(r)),t[o](r)))}function Y(e,t,n){t||(t=e.$amap.context.target),n||(n=e.$options.props);var r=function(r){var o=n[r];if(!o.setter)return"continue";var i={deep:!!o.deep};e.$amap.logger.debug("watch",r,i),e.$watch("$props."+r,(function(n,r){if(!i.deep||i.deep&&n!==r)if("function"==typeof o.equals){if(o.equals(n,r))return}else if(n===r)return;J(e,t,o,n)}),i),o.events&&function(e,t,n,r){r||(r=e.$amap.context.target);var o=n.events;(void 0===o?[]:o).forEach((function(o){var i=n.getter;if(i){var a=function(o){var a="function"==typeof i?i.call(e,r,o):r[i](),s=e.$props[t];if("function"==typeof n.equals){if(n.equals(a,s))return}else if(a===s)return;e.$emit("update:"+t,a)};H(e,o,a),r.on(o,a)}}))}(e,r,o,t)};for(var o in n)r(o)}function Q(e,t,n){if("string"==typeof e){var r=e,o=p(p({},G),{setter:r});return t&&(o.type=t),arguments.length>=3&&(o.default=n),o}return p(p({},G),e)}function X(e){return function(t,n){var r;t.setStatus(((r={})[e]=n,r))}}var ee=r.default.extend({name:"Amap",amapMeta:{events:["click","dblclick","rightclick","mapmove","movestart","moveend","hotspotclick","hotspotover","hotspotout","mousemove","mousewheel","mouseover","mouseup","mousedown","zoomchange","zoomstart","zoomend","dragstart","dragging","dragend","resize","touchstart","touchmove","touchend"]},props:{cacheKey:Q({type:String,initialize:!1}),center:Q({type:Array,deep:!0,equals:_,setter:function(e,t){t&&(z(t,q(e.getCenter()))||e.setCenter([t[0],t[1]]))},getter:function(e){return q(e.getCenter())},events:["mapmove","moveend"]}),zoom:Q({type:Number,equals:D,setter:function(e,t){void 0!==t&&(D(e.getZoom(),t)||e.setZoom(t))},getter:"getZoom",events:["zoomchange","zoomend"]}),rotation:Q({type:Number,equals:D,setter:"setRotation",getter:"getRotation",events:["dragging","dragend","moveend","rotateend"]}),pitch:Q({type:Number,equals:D,setter:"setPitch",getter:"getPitch",events:["dragging","dragend","moveend","pitchend"]}),viewMode:{type:String},features:Q("setFeatures",Array),zooms:{type:Array},dragEnable:Q({type:Boolean,default:void 0,setter:X("dragEnable")}),zoomEnable:Q({type:Boolean,default:void 0,setter:X("zoomEnable")}),jogEnable:Q({type:Boolean,default:void 0,setter:X("jogEnable")}),pitchEnable:Q({type:Boolean,default:void 0,setter:X("pitchEnable")}),rotateEnable:Q({type:Boolean,default:void 0,setter:X("rotateEnable")}),animateEnable:Q({type:Boolean,default:void 0,setter:X("animateEnable")}),keyboardEnable:Q({type:Boolean,default:void 0,setter:X("keyboardEnable")}),doubleClickZoom:Q({type:Boolean,default:void 0,setter:X("doubleClickZoom")}),scrollWheel:Q({type:Boolean,default:void 0,setter:X("scrollWheel")}),touchZoom:{type:Boolean,default:void 0},touchZoomCenter:{type:Boolean,default:void 0},showLabel:{type:Boolean,default:void 0},defaultCursor:Q("setDefaultCursor",String),isHotspot:Q({type:Boolean,default:void 0,setter:X("isHotspot")}),mapStyle:Q("setMapStyle",String),wallColor:{type:String},roofColor:{type:String},skyColor:{type:String},showBuildingBlock:{type:Boolean,default:void 0},showIndoorMap:Q({type:Boolean,default:void 0,setter:X("showIndoorMap")}),mask:{type:Array},extraOptions:{type:Object,required:!1,default:void 0}},data:function(){return{ready:!1}},computed:{$context:function(){return this.$amap.context},$map:function(){return this.$context.target}},methods:{_clear:function(){var e=this.$map;e&&(K(this),e.clearMap(),e.clearInfoWindow())},_getContainer:function(e){var t=this.cacheKey;if(!o._disableMapCache&&t){var n="amap-vue-container-inner-"+t,r=document.getElementById(n)||this.$el.querySelector("#"+n);return r||((r=document.createElement("div")).className="amap-vue-container-inner",r.setAttribute("id",n),r.setAttribute("style","position:relative; width:100%; height:100%;")),e?(this.$el.insertAdjacentElement("afterbegin",r),r.style.display="block",r.style.pointerEvents="initial"):(r.style.display="none",r.style.pointerEvents="none"),r}return this.$el}},beforeCreate:function(){l();var e=i(),t={AMap:null,wrapper:null,ready:e.promise,target:null,vm:this,destroyed:!1};this.$amap={events:{},ready:e,context:t,logger:E(this)}},mounted:function(){return d(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,p=this;return f(this,(function(h){switch(h.label){case 0:return e=this.$context,[4,l()];case 1:if(t=h.sent(),e.AMap=t,e.destroyed)return[2];if(n=R(this),r=this._getContainer(!0),o=!!r.$amap)for(i in n)a=this.$options.props[i],s=n[i],J(this,r.$amap,a,s);else r.$amap=new t.Map(r,n);return u=r.$amap,e.wrapper=r,e.target=u,Y(this),V(this),c=function(){return d(p,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.ready=!0,this.$amap.ready.resolve(u),[4,this.$nextTick()];case 1:return e.sent(),this.$emit("complete",u),[2]}}))}))},o?c():u.on("complete",c),[2]}}))}))},destroyed:function(){var e=this.$context;if(!o._disableMapCache&&this.cacheKey){var t=this._getContainer(!1);document.body.appendChild(t),this._clear()}else e.target&&e.target.destroy();e.destroyed=!0},provide:function(){return{$amapMap:this.$context}},render:function(e){var t=this.$slots.default;return this.ready||(t=void 0),e("div",{class:"amap-vue-container",style:"position:relative; width:100%; height:100%;"},t)}}),te=r.default.extend({computed:{$context:function(){return this.$amap.context},$container:function(){return this.$amapMap},$target:function(){return this.$context.target},$map:function(){return this.$amapMap.target},$meta:function(){return this.$options.amapMeta}}}),ne=x(te).extend({inject:["$amapMap"],amapMeta:{slot:!1,initComponent:b,add:function(e,t){t.setMap(e.target)},remove:function(e,t){t.setMap(null)}},props:{extraOptions:{type:Object,required:!1,default:void 0}},beforeCreate:function(){var e=i(),t={AMap:null,ready:e.promise,target:null,vm:this,destroyed:!1};this.$amap={events:{},ready:e,context:t,logger:E(this)}},mounted:function(){return d(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return f(this,(function(s){switch(s.label){case 0:return t=(e=this).$amap,n=e.$context,r=e.$container,o=this.$options.amapMeta,[4,r.ready];case 1:return s.sent(),n.AMap=r.AMap,o.prepare?[4,o.prepare()]:[3,3];case 2:s.sent(),s.label=3;case 3:return i=R(this),n.destroyed?[2]:[4,o.initComponent.call(this,n.AMap,i)];case 4:return a=s.sent(),n.target=a,o.add.call(this,r,a),Y(this),V(this),t.ready.resolve(a),this.$emit("amap-ready",a),[2]}}))}))},beforeDestroy:function(){var e=this.$context,t=this.$container,n=this.$target;n&&(K(this),this.$options.amapMeta.remove.call(this,t,n));e.destroyed=!0},render:function(e){return this.$options.amapMeta.slot&&this.$slots.default?e("div",{class:"amap-vue-placeholder",style:"visibility: hidden; pointer-events: none;"},this.$slots.default):null}});function re(e,t,n,r){var o;"function"==typeof e[n]?e[n](r):"function"==typeof e.setOptions&&e.setOptions(((o={})[t]=r,o))}function oe(e,t,n){return void 0===t&&(t="show"),void 0===n&&(n="hide"),r.default.extend({props:{visible:Q({type:Boolean,default:e,setter:function(e,r){r?e[t]():e[n]()}})}})}var ie=r.default.extend({props:{zIndex:Q({type:Number,setter:function(e,t){re(e,"zIndex","setzIndex",t)}})}}),ae=r.default.extend({props:{opacity:Q("setOpacity",Number)}}),se=r.default.extend({props:{zooms:Q({type:Array,deep:!0,equals:_,setter:function(e,t){re(e,"zooms","setZooms",t)}})}}),ue=x(ne,oe(!0),ie).extend({amapMeta:{events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]},props:{cursor:Q({type:String,setter:function(e,t){"function"==typeof e.setCursor?e.setCursor(t):"function"==typeof e.setOptions&&e.setOptions({cursor:t})}}),bubble:Q({type:Boolean,required:!1,default:void 0,setter:U("bubble")}),clickable:Q("setClickable",Boolean,void 0),draggable:Q("setDraggable",Boolean,void 0),extData:Q("setExtData",Object)},mounted:function(){return d(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return[4,(e=this.$context).ready];case 1:return t.sent(),e.destroyed?[2]:(this.visible||e.target.hide(),[2])}}))}))}}),ce=["top-left","top-center","top-right","middle-left","center","middle-right","bottom-left","bottom-center","bottom-right"],le=["miter","round","bevel"],pe=["butt","round","square"],de=["solid","dashed"],fe=x(ue,se).extend({props:{position:Q({type:Array,deep:!0,equals:_,setter:function(e,t){t&&(z(t,q(e.getPosition()))||e.setPosition([t[0],t[1]]))},getter:function(e){return q(e.getPosition())},events:["dragging","dragend","moving","moveend"]}),title:Q("setTitle",String),offset:Q({type:Array,deep:!0,equals:_,setter:function(e,t){var n,r=e;t&&(z(t,(n=r.getOffset(),Array.isArray(n)?[n[0],n[1]]:[n.x,n.y]))||r.setOffset(new window.AMap.Pixel(t[0],t[1])))},transform:function(e){return new window.AMap.Pixel(e[0],e[1])}}),anchor:Q({type:String,setter:"setAnchor",validator:function(e){return ce.includes(e)}}),angle:Q({type:Number,equals:D,setter:function(e,t){void 0!==t&&e.setAngle(t)},getter:function(e){return e.getAngle()},events:["moving"]}),topWhenClick:{type:Boolean,default:void 0}},beforeDestroy:function(){var e=this.$context.target;e&&"function"==typeof e.stopMove&&e.stopMove()}});function he(e){if(e){var t=p({},e);return t.offset&&(t.offset=new window.AMap.Pixel(t.offset[0],t.offset[1])),t}}function me(e){return"string"==typeof e?e:new window.AMap.Icon(e)}var ve=x(fe).extend({name:"AmapMarker",amapMeta:{slot:!0,initComponent:function(e,t){return d(this,void 0,void 0,(function(){var n;return f(this,(function(r){return n=p({},t),this.$slots.default&&this.$slots.default.length>0&&(n.content=this.$slots.default[0].elm),[2,new e.Marker(n)]}))}))}},props:{content:Q("setContent",String),icon:Q({setter:function(e,t){if(t){var n=me(t);e.setIcon(n)}},transform:me}),label:Q({type:Object,setter:function(e,t){t&&e.setLabel(he(t))},deep:!0,transform:he})}}),ye=x(ne,oe(!0),ie,ae,se).extend({name:"AmapLabelsLayer",amapMeta:{slot:!0,initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.LabelsLayer(t)]}))}))}},props:{visible:Q({type:Boolean,default:!0,setter:function(e,t){var n=e;t?n.show():n.hide()}}),zIndex:Q("setzIndex",Number),opacity:Q("setOpacity",Number),collision:Q({type:Boolean,default:void 0,setter:"setCollision"}),allowCollision:Q({type:Boolean,default:void 0,setter:"setAllowCollision"})},provide:function(){return{$amapLabelsLayer:this.$context}},data:function(){return{ready:!1}},mounted:function(){var e=this;this.$context.ready.then((function(){return e.ready=!0}))},render:function(e){var t=this.$slots.default;return this.ready||(t=void 0),e("div",{class:"amap-vue-labels-layer",style:"visibility: hidden; pointer-events: none;"},t)}}),ge=x(ne,oe(!0),ie,ae,se).extend({name:"AmapLabelMarker",inject:["$amapLabelsLayer"],amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.LabelMarker(t)]}))}))},add:function(e,t){return d(this,void 0,void 0,(function(){var e;return f(this,(function(n){return(e=this.$layer)?(e.add(t),[2]):[2]}))}))},remove:function(e,t){return d(this,void 0,void 0,(function(){var e;return f(this,(function(n){return(e=this.$layer)?(e.remove(t),[2]):[2]}))}))},events:["mousedown","mouseup","touchstart","touchmove","touchend","click","mousemove","mouseover","mouseout"]},props:{name:Q("setName",String),position:Q({type:Array,deep:!0,equals:_,setter:function(e,t){t&&(z(t,q(e.getPosition()))||e.setPosition([t[0],t[1]]))}}),rank:Q("setRank",Number),icon:Q({type:Object,setter:"setIcon",deep:!0}),text:Q({type:Object,setter:"setText",deep:!0})},computed:{$layerContext:function(){return this.$amapLabelsLayer},$layer:function(){var e=this.$layerContext;return e?e.target:null}},mounted:function(){if(!this.$layerContext)throw new Error("LabelMarker 需要与 LabelsLayer 配合使用")}}),be=x(fe).extend({name:"AmapText",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return t.domStyle&&(t.style=t.domStyle,delete t.domStyle),[2,new e.Text(t)]}))}))}},props:{text:Q({type:[String,Object],setter:"setText"}),domStyle:Q({type:Object,setter:function(e,t){e.setStyle(t)},deep:!0})}}),we=x(ue).extend({props:{strokeColor:Q({type:String,setter:U("strokeColor")}),strokeOpacity:Q({type:Number,setter:U("strokeOpacity")}),strokeWeight:Q({type:Number,setter:U("strokeWeight")}),strokeStyle:Q({type:String,setter:U("strokeStyle"),validator:function(e){return de.includes(e)}}),strokeDasharray:Q({type:Array,deep:!0,equals:P,setter:U("strokeDasharray")})}}),$e=x(we).extend({props:{fillColor:Q({type:String,setter:U("fillColor")}),fillOpacity:Q({type:Number,setter:U("fillOpacity")})}}),Me=x(we).extend({props:{lineJoin:Q({type:String,setter:U("lineJoin"),validator:function(e){return le.includes(e)}}),lineCap:Q({type:String,setter:U("lineCap"),validator:function(e){return pe.includes(e)}}),showDir:Q({type:Boolean,default:void 0,setter:U("showDir")}),dirColor:Q({type:String,setter:U("dirColor")}),dirImg:Q({type:Object,setter:U("dirImg")}),isOutline:Q({type:Boolean,default:void 0,setter:U("isOutline")}),outlineColor:Q({type:String,setter:U("outlineColor")}),borderWeight:Q({type:Number,setter:U("borderWeight")}),geodesic:Q({type:Boolean,default:void 0,setter:U("geodesic")})}}),xe=x($e).extend({props:{center:Q({type:Array,clone:!0,deep:!0,equals:_,setter:function(e,t){if(t){if(this.$props.draggable||this.$props.editable)if(z(t,q(e.getCenter())))return;e.setCenter([t[0],t[1]])}},getter:function(e){return q(e.getCenter())},events:["dragging","dragend"]}),radius:Q({type:Number,setter:"setRadius"})}}),Ce=x(te).extend({data:function(){return{$editor:null}},props:{editable:Q({type:Boolean,default:!1,initialize:!1}),editorOpts:Q({type:Object,default:function(){},initialize:!1})},computed:{$editable:function(){return this.$meta.editable}},mounted:function(){return d(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return[4,this.$context.ready];case 1:return t.sent(),e=this.$options.amapMeta.editable,this.editable&&e.startEditing.call(this),[2]}}))}))},beforeDestroy:function(){var e=this,t=this.$editor,n=this.$context;t&&(this.$options.amapMeta.editable.events.forEach((function(n){t.off(n,e.$onAmapEdit)})),t.close(),n&&n.target&&n.target.setMap(null))},watch:{"$props.editable":function(e){var t=this.$editable,n=this.$context;e?n.destroyed||t.startEditing.call(this):t.endEditing.call(this)}}}),Ae=x(Ce).extend({amapMeta:{editable:{events:[],loadEditor:b,initEditor:b,onEdit:b,initEditing:function(){return d(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,l=this;return f(this,(function(p){switch(p.label){case 0:return this.$editor?[2,this.$editor]:(e=this.$options.amapMeta.editable,n=(t=this).$container,r=t.$context,o=t.$editable,i=t.$map,a=t.editorOpts,[4,n.ready]);case 1:return p.sent(),[4,o.loadEditor()];case 2:return p.sent(),s=r.AMap,u=this,[4,e.initEditor.call(this,s,i,r.target,a)];case 3:return u.$editor=p.sent(),c=this.$onAmapEdit=e.onEdit.bind(this),e.events.forEach((function(e){l.$editor.on(e,c)})),[2,this.$editor]}}))}))},startEditing:function(){return d(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return[4,this.$editable.initEditing.call(this)];case 1:return e=n.sent(),"function"==typeof(t=this.$context.target).setDraggable&&t.setDraggable(!1),e.open(),[2]}}))}))},endEditing:function(){if(this.$editor){this.$editor.close();var e=this.$context.target;"function"==typeof e.setDraggable&&"boolean"==typeof this.$props.draggable&&e.setDraggable(this.$props.draggable)}}}}}),ke=x(xe,Ae).extend({name:"AmapCircle",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.Circle(t)]}))}))},editable:{events:["end","move","adjust"],loadEditor:function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,y("AMap.CircleEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return d(this,void 0,void 0,(function(){return f(this,(function(o){return[2,new e.CircleEditor(t,n,r)]}))}))},onEdit:function(e){var t=e.target,n=t.getCenter();this.$emit("update:center",[n.lng,n.lat]),this.$emit("update:radius",t.getRadius())}}}}),Ee=x(xe).extend({name:"AmapCircleMarker",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.CircleMarker(t)]}))}))}}});function Se(e){return x(we,Ae).extend({amapMeta:{editable:{events:["end","move","adjust","addnode","removenode","add"],loadEditor:function(){return d(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,y("AMap."+e)];case 1:return t.sent(),[2]}}))}))},initEditor:function(t,n,r,o){return d(this,void 0,void 0,(function(){return f(this,(function(i){return[2,new t[e](n,r,o)]}))}))},onEdit:function(e){var t=e.target.getPath().map(q);this.$emit("update:path",t)}}},props:{path:Q({type:Array,setter:function(e,t){if((this.$props.draggable||this.$props.editable)&&T(Z(e.getPath()),t))return;e.setPath(t)},getter:function(e){return Z(e.getPath())},clone:!0,equals:T,events:["dragging","dragend"]})}})}var Oe=x($e,Se("PolygonEditor")).extend({name:"AmapPolygon",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.Polygon(t)]}))}))}}}),Be=x(Se("PolylineEditor"),Me).extend({name:"AmapPolyline",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.Polyline(t)]}))}))}}}),Le="undefined"!=typeof BigInt64Array;function je(e,t){var n,r,o,i,a,s;if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){var u=e.length;if(u!=t.length)return!1;for(var c=u;0!=c--;)if(!je(e[c],t[c]))return!1;return!0}if(e instanceof Map){if(e.size!==t.size)return!1;try{for(var l=h(e.entries()),p=l.next();!p.done;p=l.next()){c=p.value;if(!t.has(c[0]))return!1}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var d=h(e.entries()),f=d.next();!f.done;f=d.next()){if(!je((c=f.value)[1],t.get(c[0])))return!1}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return!0}if(e instanceof Set){if(e.size!==t.size)return!1;try{for(var m=h(e.entries()),v=m.next();!v.done;v=m.next()){c=v.value;if(!t.has(c[0]))return!1}}catch(e){a={error:e}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}return!0}if(e.constructor.BYTES_PER_ELEMENT&&(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||Le&&(e instanceof BigInt64Array||e instanceof BigUint64Array))){var y=e.length;if(y!=t.length)return!1;for(c=y;0!=c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var g=Object.keys(e),b=g.length;if(b!==Object.keys(t).length)return!1;for(c=b;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,g[c]))return!1;for(c=b;0!=c--;){var w=g[c];if(!je(e[w],t[w]))return!1}return!0}return e!=e&&t!=t}function Pe(e){return e||[]}var _e=x(Me,Ae).extend({name:"AmapBezierCurve",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.BezierCurve(t)]}))}))},editable:{events:["end","adjust","addnode","removenode"],loadEditor:function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,y("AMap.BezierCurveEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return d(this,void 0,void 0,(function(){return f(this,(function(o){return[2,new e.BezierCurveEditor(t,n,r)]}))}))},onEdit:function(e){var t=e.target.getPath();this.$emit("update:path",Pe(t))}}},props:{path:Q({type:Array,setter:function(e,t){if((this.$props.editable||this.$props.editable)&&je(Pe(e.getPath()),t))return;e.setPath(t)},getter:function(e){return Pe(e.getPath())},clone:!0,equals:je,events:["dragging","dragend"]})}});function Te(e,t){return!(!e||!t)&&(D(e[0][0],t[0][0])&&D(e[0][1],t[0][1])&&D(e[1][0],t[1][0])&&D(e[1][1],t[1][1]))}var De=x($e,Ae).extend({name:"AmapRectangle",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.Rectangle(t)]}))}))},editable:{events:["move","end","adjust"],loadEditor:function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,y("AMap.RectangleEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return d(this,void 0,void 0,(function(){return f(this,(function(o){return[2,new e.RectangleEditor(t,n,r)]}))}))},onEdit:function(e){var t=W(e.target.getBounds());this.$emit("update:bounds",t)}}},props:{bounds:Q({type:Array,deep:!0,setter:function(e,t){if((this.$props.editable||this.$props.draggable)&&Te(W(e.getBounds()),t))return;e.setBounds(F(t))},getter:function(e){return W(e.getBounds())},transform:F,clone:!0,equals:Te,events:["dragging","dragend"]})}}),ze=x($e,Ae).extend({name:"AmapEllipse",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.Ellipse(t)]}))}))},editable:{events:["move","end","adjust"],loadEditor:function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,y("AMap.EllipseEditor")];case 1:return e.sent(),[2]}}))}))},initEditor:function(e,t,n,r){return d(this,void 0,void 0,(function(){return f(this,(function(o){return[2,new e.EllipseEditor(t,n,r)]}))}))},onEdit:function(e){var t=q(e.target.getCenter());z(this.center,t)||this.$emit("update:center",t);var n=e.target.getRadius();z(this.radius,n)||this.$emit("update:radius",n.slice(0))}}},props:{center:Q({type:Array,setter:function(e,t){if((this.$props.editable||this.$props.draggable)&&z(t,q(e.getCenter())))return;e.setCenter(t)},getter:function(e){return q(e.getCenter())},clone:!0,deep:!0,equals:z,events:["dragging","dragend"]}),radius:Q({type:Array,setter:function(e,t){var n=e;if(this.$props.editable&&z(t,n.getRadius()))return;n.setRadius(t)},clone:!0,deep:!0,equals:z})}});function Ne(e,t,n){if(!e)return n;var r,o;if(Array.isArray(t)&&(r=t.slice(0)),"string"==typeof t&&(r=t.split(".")),"symbol"==typeof t&&(r=[t]),!Array.isArray(r))throw new Error("props arg must be an array, a string or a symbol");for(;r.length;){if(o=r.shift(),!e)return n;if(void 0===(e=e[o]))return n}return e}var Ie=x(ue,oe(!0,"open","close")).extend({name:"AmapInfoWindow",amapMeta:{slot:!0,initComponent:function(e,t){return d(this,void 0,void 0,(function(){var n,r;return f(this,(function(o){return n=p({},t),r=Ne(this.$slots,"default.0.elm"),n.isCustom&&r&&(n.content=r),[2,new e.InfoWindow(n)]}))}))},events:["change","open","close"]},props:{isCustom:{type:Boolean,default:void 0},autoMove:{type:Boolean,default:void 0},avoid:Q({type:Array}),closeWhenClickMap:{type:Boolean,default:void 0},content:Q("setContent",String),size:Q({type:Array,transform:function(e){return new window.AMap.Size(e[0],e[1])}}),anchor:Q({type:String,setter:"setAnchor",validator:function(e){return ce.includes(e)}}),offset:Q({type:Array,transform:function(e){return new window.AMap.Pixel(e[0],e[1])}}),position:Q({type:Array,deep:!0,setter:function(e,t){if(t){var n=e.getPosition();n&&z(t,q(n))||e.setPosition([t[0],t[1]])}},getter:function(e){return q(e.getPosition())},equals:_})},methods:{open:function(){var e=this;this.$context.ready.then((function(t){var n=e.position;t.open(e.$map,n)}))},close:function(){this.$context.ready.then((function(e){e.close()}))},onOpen:function(){this.visible||this.$emit("update:visible",!0)},onClose:function(){this.visible&&this.$emit("update:visible",!1)},_updateContent:function(){var e=this;this.visible&&this.$nextTick((function(){var t=Ne(e.$slots,"default.0.elm",e.content);e.$context.ready.then((function(e){e.setContent(t)}))}))}},mounted:function(){return d(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return[4,this.$context.ready];case 1:return e=n.sent(),t=e,this.visible&&(this._updateContent(),this.open()),t.on("open",this.onOpen),t.on("close",this.onClose),[2]}}))}))},watch:{visible:"_updateContent",content:"_updateContent"}}),Re=x(ne,oe(!0),ie,ae,se).extend({amapMeta:{events:["complete"]},props:{tileSize:{type:Number}},mounted:function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.$context.ready];case 1:return e.sent(),this.$context.destroyed?[2]:(this.visible||this.$target.hide(),[2])}}))}))}}),qe=x(Re).extend({name:"AmapTileLayer",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.TileLayer(t)]}))}))}},props:{tileUrl:Q({type:String,setter:"setTileUrl"}),dataZooms:Q({type:Array})}}),We=x(Re).extend({name:"AmapSatelliteLayer",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.TileLayer.Satellite(t)]}))}))}}}),Ze=x(Re).extend({name:"AmapFlexibleLayer",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.TileLayer.Flexible(t)]}))}))}},props:{createTile:{type:Function},cacheSize:{type:Number}}}),Fe=x(Re).extend({name:"AmapRoadNetLayer",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.TileLayer.RoadNet(t)]}))}))}}}),Ue=x(Re).extend({name:"AmapTrafficLayer",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.TileLayer.Traffic(t)]}))}))}},props:{autoRefresh:{type:Boolean,default:void 0},interval:{type:Number}}}),He=["LT","RT","LB","RB"],Ve=x(ne,oe(!0)).extend({amapMeta:{add:function(e,t){e.target.addControl(t)},remove:function(e,t){e.target.removeControl(t)},events:["show","hide"]}}),Ke=r.default.extend({props:{offset:Q({type:Array})}}),Ge=r.default.extend({props:{position:Q({type:[Object,String],validator:function(e){return"object"==typeof e||He.includes(e)}})}}),Je=x(Ve).extend({name:"AmapMapType",amapMeta:{prepare:function(){return y("AMap.MapType")},initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.MapType(t)]}))}))}},props:{defaultType:{type:Number},showTraffic:{type:Boolean,default:void 0},showRoad:{type:Boolean,default:void 0}}}),Ye=x(Ve,Ke,Ge).extend({name:"AmapControlBar",amapMeta:{prepare:function(){return y("AMap.ControlBar")},initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.ControlBar(t)]}))}))}},props:{showControlButton:{type:Boolean,default:void 0}}}),Qe=x(Ve,Ke,Ge).extend({name:"AmapHawkEye",amapMeta:{prepare:function(){return y("AMap.HawkEye")},initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.HawkEye(t)]}))}))}},props:{visible:Q({type:Boolean,default:!0,setter:function(e,t){var n=e;t?n.show():n.hide()}}),isOpen:Q({type:Boolean,default:void 0,setter:function(e,t){var n=e;t?n.open():n.hide()}}),autoMove:{type:Boolean,default:void 0},showRectangle:{type:Boolean,default:void 0},showButton:{type:Boolean,default:void 0},mapStyle:{type:String,default:void 0},layers:{type:Array,default:void 0},width:{type:String,default:void 0},height:{type:String,default:void 0},borderStyle:{type:String,default:void 0},borderColor:{type:String,default:void 0},borderRadius:{type:String,default:void 0},borderWidth:{type:String,default:void 0},buttonSize:{type:String,default:void 0}}}),Xe=x(Ve,Ke,Ge).extend({name:"AmapScale",amapMeta:{prepare:function(){return y("AMap.Scale")},initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.Scale(t)]}))}))}}}),et=x(Ve,Ke,Ge).extend({name:"AmapToolBar",amapMeta:{prepare:function(){return y("AMap.ToolBar")},initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.ToolBar(t)]}))}))}}});var tt=new Map,nt=new Map;function rt(e){var t=nt.get(e);if(t){var n=t.ops,r=t.milliseconds,o=n/r*1e3;console.log(e+": "+n+"ops, "+r.toFixed(2)+"ms, "+o.toFixed(2)+"ops/s")}}function ot(e){o.timing&&performance&&performance.now&&tt.set(e,performance.now())}function it(e,t){if(void 0===t&&(t=1),o.timing&&performance&&performance.now){var n=performance.now(),r=tt.get(e);if(tt.delete(e),r){var i=n-r,a=nt.get(e)||{ops:0,milliseconds:0};a.ops+=t||1,a.milliseconds+=i,nt.set(e,a)}}}"undefined"!=typeof window&&(window.__amap_perf__={start:ot,stop:it,print:function(e){var t,n;if(console.log("[perf timer statistics]"),e)rt(e);else try{for(var r=h(nt.keys()),o=r.next();!o.done;o=r.next()){rt(o.value)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}});var at=ve.sealedOptions,st=r.default.extend({props:at.props}),ut=void 0;function ct(e,t,n){var r=e[t];Array.isArray(r)&&(e[t]=new n(r[0],r[1]))}function lt(e){return e&&0!==e.length?e.map((function(e){var t=p({},e);return ct(t,"size",AMap.Size),ct(t,"offset",AMap.Pixel),ct(t,"imageOffset",AMap.Pixel),t})):e}var pt=x(ne).extend({name:"AmapMarkerCluster",amapMeta:{prepare:function(){return y("AMap.MarkerCluster")},initComponent:function(e,t){return d(this,void 0,void 0,(function(){var n;return f(this,(function(r){return n=this,this.$scopedSlots.cluster&&(t.renderClusterMarker=n._renderCluster),this.$scopedSlots.marker&&(t.renderMarker=n._renderMarker),[2,new e.MarkerCluster(n.$map,n.data||[],t)]}))}))},events:["click"]},props:{data:Q({type:Array,required:!0,initialize:!1}),gridSize:Q("setGridSize",Number),maxZoom:Q("setMaxZoom",Number),averageCenter:Q({type:Boolean,default:void 0,setter:"setAverageCenter"}),clusterByZoomChange:{type:Boolean,default:void 0},styles:Q({type:Array,setter:function(e,t){e.setStyles(lt(t))},transform:lt}),markerOptions:Q({type:Function,initialize:!1}),clusterOptions:Q({type:Function,initialize:!1})},data:function(){return{$mcc:null}},mounted:function(){var e=this,t=function(e,t,n){var r,o,i,a,s;function u(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var c=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];i=this,o=c,a=Date.now();var p=n&&!r;return r||(r=setTimeout(u,t)),p&&(s=e.apply(i,o),i=o=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}(this._onDataChange,100),n=this.$scopedSlots.marker,o=this.$scopedSlots.cluster;this.$context.ready.then((function(){e._onDataChange()}));var i=r.default.extend({props:{point:{type:Object}},render:function(){return n?Ne(n(this.point),"0",null):null}}),a=r.default.extend({props:{context:{type:Object}},render:function(){return o?Ne(o(this.context),"0",null):null}});this.$mcc={marker:new i,cluster:new a,dummy:new st},this.$watch("data",{handler:t})},beforeDestroy:function(){this.$mcc.marker.$destroy(),this.$mcc.cluster.$destroy(),this.$mcc.dummy.$destroy()},methods:{_onDataChange:function(){return d(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(r){switch(r.label){case 0:return t=(e=this).data,[4,(n=e.$context).ready];case 1:return r.sent(),n.destroyed?[2]:(this.$target.setData(t),[2])}}))}))},_renderMarkerContent:function(e,t,n){ot("MarkerCluster#_renderMarkerContent");var r=function(e,t){ut||(ut=document.createElement("div"));var n=e;return n._props=t,n._vnode=null,n.$mount(ut),n._vnode.elm}(t,n);e.marker.setContent(r),it("MarkerCluster#_renderMarkerContent")},_setMarkerOptions:function(e,t,n){var r={};"function"==typeof t&&Object.assign(r,t(n));for(var o=Object.keys(r),i=this.$mcc.dummy,a=0;a<o.length;++a){var s=o[a],u=r[s],c=at.props[s];void 0!==c&&J(i,e.marker,c,u)}},_renderMarker:function(e){ot("MarkerCluster#_renderMarker");var t=e.data[0],n={point:t};this._renderMarkerContent(e,this.$mcc.marker,n),this._setMarkerOptions(e,this.markerOptions,t),it("MarkerCluster#_renderMarker")},_renderCluster:function(e){ot("MarkerCluster#_renderCluster");var t={context:e};this._renderMarkerContent(e,this.$mcc.cluster,t),this._setMarkerOptions(e,this.clusterOptions,e),it("MarkerCluster#_renderCluster")}},render:function(){return null}}),dt=x(ne).extend({amapMeta:{prepare:function(){return y("AMap.MouseTool")},initComponent:function(e){return d(this,void 0,void 0,(function(){return f(this,(function(t){return[2,new e.MouseTool(this.$map)]}))}))},add:function(){},remove:function(){}},props:{mode:Q({type:String,default:"none"}),clearWhenClose:{type:Boolean,default:!0},options:{type:Object}},data:function(){return{drawingMode:void 0}},computed:{$mousetool:function(){return this.$target}},methods:{close:function(e){this.$mousetool.close(e)},draw:function(){var e=this.$mousetool,t=this.mode,n=this.drawingMode,r=this.options,o=void 0===r?{}:r;if(t!==n){switch(t){case"none":this.close(this.clearWhenClose);break;case"marker":e.marker(o);break;case"polyline":e.polyline(o);break;case"polygon":e.polygon(o);break;case"rectangle":e.rectangle(o);break;case"circle":e.circle(o);break;case"rule":e.rule(o);break;case"measureArea":e.measureArea(o);break;case"rectZoomIn":e.rectZoomIn(o);break;case"rectZoomOut":e.rectZoomOut(o)}this.drawingMode=t}},_onDraw:function(e){if(this.mode!==this.drawingMode)return this.close(!0),void this.draw();var t=e.obj,n=this.drawingMode,r=t;switch(n){case"marker":r=q(t.getPosition());break;case"polyline":case"polygon":r=Z(t.getPath());break;case"rectangle":r=W(t.getBounds());break;case"circle":r={center:q(t.getCenter()),radius:t.getRadius()};break;case"rule":r={path:Z(t.getPath()),length:t.getLength()};break;case"measureArea":r={path:Z(t.getPath()),area:t.getArea()}}this.$emit("draw",n,r),this.$emit("update:mode","none")}},mounted:function(){return d(this,void 0,void 0,(function(){var e,t=this;return f(this,(function(n){switch(n.label){case 0:return[4,(e=this.$context).ready];case 1:return n.sent(),e.destroyed?[2]:(this.$mousetool.on("draw",this._onDraw),this.$watch("mode",(function(e){"none"!==e&&"none"!==t.drawingMode&&t.close(!0),t.draw()}),{immediate:!0}),[2])}}))}))}}),ft=x(ne,oe(!0),ie,ae,se).extend({amapMeta:{events:["complete"]},mounted:function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.$context.ready];case 1:return e.sent(),this.$context.destroyed?[2]:(this.visible||this.$target.hide(),[2])}}))}))}}),ht=x(ft).extend({name:"AmapImageLayer",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.ImageLayer(t)]}))}))}},props:{bounds:Q({type:Array,transform:F,deep:!0,setter:function(e,t){e.setBounds(F(t))}}),url:Q("setImageUrl",String)}}),mt=x(ft).extend({name:"AmapCanvasLayer",amapMeta:{slot:!0,initComponent:function(e,t){return d(this,void 0,void 0,(function(){var n;return f(this,(function(r){if(!(n=Ne(this,"$slots.default.0.elm"))||"CANVAS"!==n.tagName)throw this.$amap.logger.warn("slot内容必须是canvas"),new Error;return t.canvas=n,[2,new e.CanvasLayer(t)]}))}))}},props:{bounds:Q({type:Array,transform:F})}}),vt=x(ft).extend({name:"AmapCustomLayer",amapMeta:{slot:!0,initComponent:function(e,t){return d(this,void 0,void 0,(function(){var n;return f(this,(function(r){if(!(n=Ne(this,"$slots.default.0.elm"))||"CANVAS"!==n.tagName)throw this.$amap.logger.warn("slot内容必须是canvas"),new Error;return[2,new e.CustomLayer(n,t)]}))}))}},props:{render:Q({type:Function,required:!0})}}),yt=x(ne,oe(!0),ie,ae,se).extend({amapMeta:{prepare:function(){return y("AMap.DistrictLayer")},events:["complete"]},props:{styles:Q({type:Object,setter:"setStyles"})}}),gt=r.default.extend({props:{depth:{type:Number}}}),bt=x(yt).extend({name:"AmapDistrictLayerWorld",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.DistrictLayer.World(t)]}))}))}}}),wt=x(yt,gt).extend({name:"AmapDistrictLayerCountry",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return"soc"in t&&(t.SOC=t.soc,delete t.soc),[2,new e.DistrictLayer.Country(t)]}))}))}},props:{soc:Q("setSOC",String)}}),$t=x(yt,gt).extend({name:"AmapDistrictLayerProvince",amapMeta:{initComponent:function(e,t){return d(this,void 0,void 0,(function(){return f(this,(function(n){return[2,new e.DistrictLayer.Province(t)]}))}))}},props:{adcode:Q({type:[Array,String,Number],deep:!0,equals:P,setter:"setDistricts"})}}),Mt={install:function(e){e.component("amap",ee),e.component("amap-marker",ve),e.component("amap-labels-layer",ye),e.component("amap-label-marker",ge),e.component("amap-text",be),e.component("amap-circle",ke),e.component("amap-circle-marker",Ee),e.component("amap-polygon",Oe),e.component("amap-polyline",Be),e.component("amap-bezier-curve",_e),e.component("amap-rectangle",De),e.component("amap-ellipse",ze),e.component("amap-info-window",Ie),e.component("amap-tile-layer",qe),e.component("amap-satellite-layer",We),e.component("amap-road-net-layer",Fe),e.component("amap-traffic-layer",Ue),e.component("amap-flexible-layer",Ze),e.component("amap-map-type",Je),e.component("amap-control-bar",Ye),e.component("amap-hawk-eye",Qe),e.component("amap-scale",Xe),e.component("amap-tool-bar",et),e.component("amap-marker-cluster",pt),e.component("amap-mouse-tool",dt),e.component("amap-image-layer",ht),e.component("amap-canvas-layer",mt),e.component("amap-custom-layer",vt),e.component("amap-district-layer-world",bt),e.component("amap-district-layer-country",wt),e.component("amap-district-layer-province",$t)},config:o,loadAmap:l,loadPlugins:y,withAmap:g,Amap:ee,Marker:ve,LabelsLayer:ye,LabelMarker:ge,Text:be,Circle:ke,CircleMarker:Ee,Polygon:Oe,Polyline:Be,BezierCurve:_e,Rectangle:De,Ellipse:ze,InfoWindow:Ie,TileLayer:qe,SatelliteLayer:We,FlexibleLayer:Ze,RoadNetLayer:Fe,TrafficLayer:Ue,MapType:Je,ControlBar:Ye,HawkEye:Qe,Scale:Xe,ToolBar:et,MarkerCluster:pt,MouseTool:dt,ImageLayer:ht,CanvasLayer:mt,CustomLayer:vt,DistrictLayerWorld:bt,DistrictLayerCountry:wt,DistrictLayerProvince:$t};e.Amap=ee,e.BezierCurve=_e,e.CanvasLayer=mt,e.Circle=ke,e.CircleMarker=Ee,e.ControlBar=Ye,e.CustomLayer=vt,e.DistrictLayerCountry=wt,e.DistrictLayerProvince=$t,e.DistrictLayerWorld=bt,e.Ellipse=ze,e.FlexibleLayer=Ze,e.HawkEye=Qe,e.ImageLayer=ht,e.InfoWindow=Ie,e.LabelMarker=ge,e.LabelsLayer=ye,e.MapType=Je,e.Marker=ve,e.MarkerCluster=pt,e.MouseTool=dt,e.Polygon=Oe,e.Polyline=Be,e.Rectangle=De,e.RoadNetLayer=Fe,e.SatelliteLayer=We,e.Scale=Xe,e.Text=be,e.TileLayer=qe,e.ToolBar=et,e.TrafficLayer=Ue,e.config=o,e.default=Mt,e.loadAmap=l,e.loadPlugins=y,e.withAmap=g,Object.defineProperty(e,"__esModule",{value:!0})}));
