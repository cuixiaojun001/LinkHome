import t from"./mixins.js";import{theSamePair as e,lngLat2Array as o,nearPair as r,xy2Array as n,near as i}from"../utils/amap-helpers.js";import{defineProp as s}from"./props.js";import{withZooms as f}from"./common.js";import p from"./overlay.js";import{Anchors as a}from"../utils/types.js";var u=t(p,f).extend({props:{position:s({type:Array,deep:!0,equals:e,setter:function(t,e){if(e){var n=o(t.getPosition());r(e,n)||t.setPosition([e[0],e[1]])}},getter:function(t){var e=t.getPosition();return o(e)},events:["dragging","dragend","moving","moveend"]}),title:s("setTitle",String),offset:s({type:Array,deep:!0,equals:e,setter:function(t,e){var o=t;if(e){var i=n(o.getOffset());r(e,i)||o.setOffset(new window.AMap.Pixel(e[0],e[1]))}},transform:function(t){return new window.AMap.Pixel(t[0],t[1])}}),anchor:s({type:String,setter:"setAnchor",validator:function(t){return a.includes(t)}}),angle:s({type:Number,equals:i,setter:function(t,e){void 0!==e&&t.setAngle(e)},getter:function(t){return t.getAngle()},events:["moving"]}),topWhenClick:{type:Boolean,default:void 0}},beforeDestroy:function(){var t=this.$context.target;t&&"function"==typeof t.stopMove&&t.stopMove()}});export default u;
