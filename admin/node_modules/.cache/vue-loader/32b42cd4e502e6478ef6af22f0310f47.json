{"remainingRequest":"/Users/ke/workspace/platform/house_admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ke/workspace/platform/house_admin/src/views/house/myMap.vue?vue&type=style&index=0&id=cf03a892&scoped=true&lang=css","dependencies":[{"path":"/Users/ke/workspace/platform/house_admin/src/views/house/myMap.vue","mtime":1716445932137},{"path":"/Users/ke/workspace/platform/house_admin/node_modules/css-loader/dist/cjs.js","mtime":1716446972150},{"path":"/Users/ke/workspace/platform/house_admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1716446973099},{"path":"/Users/ke/workspace/platform/house_admin/node_modules/postcss-loader/src/index.js","mtime":1716446972368},{"path":"/Users/ke/workspace/platform/house_admin/node_modules/cache-loader/dist/cjs.js","mtime":1716446970693},{"path":"/Users/ke/workspace/platform/house_admin/node_modules/vue-loader/lib/index.js","mtime":1716446972582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zZXJhY2hpbnB1dCB7CiAgd2lkdGg6IDMwMHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgcGFkZGluZzogOXB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNkZGRlZTE7CiAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgZm9udC1zaXplOiAxNnB4OwogIGhlaWdodDogMzhweDsKICBjb2xvcjogIzMzMzsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIC13ZWJraXQtYm94LXNoYWRvdzogIzY2NiAwcHggMHB4IDEwcHg7CiAgLW1vei1ib3gtc2hhZG93OiAjNjY2IDBweCAwcHggMTBweDsKICBib3gtc2hhZG93OiAjNjY2IDBweCAwcHggMTBweDsKfQo="},{"version":3,"sources":["myMap.vue"],"names":[],"mappings":";AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myMap.vue","sourceRoot":"src/views/house","sourcesContent":["<!--\n使用说明:\n   v-on:  map-confirm,参数为array数组,传递经纬度值\n   v-on   cancel    取消时发出事件\n-->\n<template>\n  <div>\n    <Modal\n      @on-cancel=\"cancel\"\n      v-model=\"showMapComponent\"\n      width=\"800\"\n      :closable=\"false\"\n      :mask-closable=\"false\"\n    >\n      <baidu-map\n        v-bind:style=\"mapStyle\"\n        class=\"bm-view\"\n        ak=\"你的密钥\"\n        :center=\"center\"\n        :zoom=\"zoom\"\n        :scroll-wheel-zoom=\"true\"\n        @click=\"getClickInfo\"\n        @moving=\"syncCenterAndZoom\"\n        @moveend=\"syncCenterAndZoom\"\n        @zoomend=\"syncCenterAndZoom\"\n      >\n        <bm-view style=\"width: 100%; height: 500px\"></bm-view>\n        <bm-marker\n          :position=\"{ lng: center.lng, lat: center.lat }\"\n          :dragging=\"true\"\n          animation=\"BMAP_ANIMATION_BOUNCE\"\n        >\n        </bm-marker>\n        <bm-control :offset=\"{ width: '10px', height: '10px' }\">\n          <bm-auto-complete v-model=\"keyword\" :sugStyle=\"{ zIndex: 999999 }\">\n            <input\n              type=\"text\"\n              placeholder=\"请输入搜索关键字\"\n              class=\"serachinput\"\n            />\n          </bm-auto-complete>\n        </bm-control>\n        <bm-local-search\n          :keyword=\"keyword\"\n          :auto-viewport=\"true\"\n          style=\"width: 0px; height: 0px; overflow: hidden\"\n        ></bm-local-search>\n      </baidu-map>\n      <div slot=\"footer\" style=\"margin-top: 0px\">\n        <el-button @click=\"cancel\" size=\"medium\">取消 </el-button>\n        <el-button type=\"primary\" @click=\"confirm\" size=\"medium\"\n          >确定</el-button\n        >\n      </div>\n    </Modal>\n  </div>\n</template>\n<script>\nimport {\n  BaiduMap,\n  BmControl,\n  BmView,\n  BmAutoComplete,\n  BmLocalSearch,\n  BmMarker,\n} from \"vue-baidu-map\";\nexport default {\n  components: {\n    BaiduMap,\n    BmControl,\n    BmView,\n    BmAutoComplete,\n    BmLocalSearch,\n    BmMarker,\n  },\n  data: function () {\n    return {\n      showMapComponent: this.value,\n      keyword: \"\",\n      mapStyle: {\n        width: \"100%\",\n        height: this.mapHeight + \"px\",\n      },\n      center: { lng: 116.404, lat: 39.915 },\n      zoom: 15,\n    };\n  },\n  watch: {\n    value: function (currentValue) {\n      this.showMapComponent = currentValue;\n      if (currentValue) {\n        this.keyword = \"\";\n      }\n    },\n  },\n  props: {\n    value: Boolean,\n    mapHeight: {\n      type: Number,\n      default: 500,\n    },\n  },\n  methods: {\n    /***\n     * 地图点击事件。\n     */\n    getClickInfo(e) {\n      this.center.lng = e.point.lng;\n      this.center.lat = e.point.lat;\n    },\n    syncCenterAndZoom(e) {\n      const { lng, lat } = e.target.getCenter();\n      this.center.lng = lng;\n      this.center.lat = lat;\n      this.zoom = e.target.getZoom();\n    },\n    /***\n     * 确认\n     */\n    confirm: function () {\n      this.showMapComponent = false;\n      this.$emit(\"map-confirm\", this.center);\n    },\n    /***\n     * 取消\n     */\n    cancel: function () {\n      this.showMapComponent = false;\n      this.$emit(\"cancel\", this.showMapComponent);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.serachinput {\n  width: 300px;\n  box-sizing: border-box;\n  padding: 9px;\n  border: 1px solid #dddee1;\n  line-height: 20px;\n  font-size: 16px;\n  height: 38px;\n  color: #333;\n  position: relative;\n  border-radius: 4px;\n  -webkit-box-shadow: #666 0px 0px 10px;\n  -moz-box-shadow: #666 0px 0px 10px;\n  box-shadow: #666 0px 0px 10px;\n}\n</style>\n"]}]}